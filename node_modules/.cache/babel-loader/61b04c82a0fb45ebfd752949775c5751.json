{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));else if (typeof define === 'function' && define.amd) define(\"reactXarrow\", [\"react\", \"lodash\", \"prop-types\"], factory);else if (typeof exports === 'object') exports[\"reactXarrow\"] = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));else root[\"reactXarrow\"] = factory(root[\"react\"], root[\"lodash\"], root[\"prop-types\"]);\n})(this, function (__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_lodash__, __WEBPACK_EXTERNAL_MODULE_prop_types__) {\n  return (\n    /******/\n    function () {\n      // webpackBootstrap\n\n      /******/\n      \"use strict\";\n      /******/\n\n      var __webpack_modules__ = {\n        /***/\n        \"./src/Xarrow/utils/buzzier.js\":\n        /*!*************************************!*\\\n          !*** ./src/Xarrow/utils/buzzier.js ***!\n          \\*************************************/\n\n        /***/\n        function (__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n          __webpack_require__.r(__webpack_exports__);\n          /* harmony export */\n\n\n          __webpack_require__.d(__webpack_exports__, {\n            /* harmony export */\n            \"bzFunction\": function () {\n              return (\n                /* binding */\n                bzFunction\n              );\n            },\n\n            /* harmony export */\n            \"buzzierMinSols\": function () {\n              return (\n                /* binding */\n                buzzierMinSols\n              );\n            }\n            /* harmony export */\n\n          }); // Buzier curve calculations\n\n          /**\r\n           * returns buzzier curve function with 2 controls points\r\n           * bzCurve with 2 control points function(4 points total):  bz = (1−t)^3*p1 + 3(1−t)^2*t*p2 +3(1−t)*t^2*p3 + t^3*p4\r\n           */\n\n\n          var bzFunction = function bzFunction(p1, p2, p3, p4) {\n            return function (t) {\n              return Math.pow(1 - t, 3) * p1 + 3 * Math.pow(1 - t, 2) * t * p2 + 3 * (1 - t) * Math.pow(t, 2) * p3 + Math.pow(t, 3) * p4;\n            };\n          };\n          /**\r\n           * returns 2 solutions from extram points for buzzier curve with 2 controls points\r\n           */\n\n\n          var buzzierMinSols = function buzzierMinSols(p1, p2, p3, p4) {\n            var bz = bzFunction(p1, p2, p3, p4); // dt(bz) = -3 p1 (1 - t)^2 + 3 p2 (1 - t)^2 - 6 p2 (1 - t) t + 6 p3 (1 - t) t - 3 p3 t^2 + 3 p4 t^2\n            // when p1=(x1,y1),p2=(cpx1,cpy1),p3=(cpx2,cpy2),p4=(x2,y2)\n            // then extrema points is when dt(bz) = 0\n            // solutions =>  t = ((-6 p1 + 12 p2 - 6 p3) ± sqrt((6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)))/(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4))  when (p1 + 3 p3!=3 p2 + p4)\n            // if we mark A=(-6 p1 + 12 p2 - 6 p3) and B=(6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)) and C =(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4) then\n            // tSol = A ± sqrt(B)\n            // then solution we want is: bz(tSol)\n\n            var A = -6 * p1 + 12 * p2 - 6 * p3;\n            var B = Math.pow(-6 * p1 + 12 * p2 - 6 * p3, 2) - 4 * (3 * p2 - 3 * p1) * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n            var C = 2 * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n            var sol1 = bz((A + Math.sqrt(B)) / C);\n            var sol2 = bz((A - Math.sqrt(B)) / C);\n            return [sol1, sol2];\n          };\n          /***/\n\n        },\n\n        /***/\n        \"./src/Xarrow/Xarrow.tsx\":\n        /*!*******************************!*\\\n          !*** ./src/Xarrow/Xarrow.tsx ***!\n          \\*******************************/\n\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __assign = this && this.__assign || function () {\n            __assign = Object.assign || function (t) {\n              for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n              }\n\n              return t;\n            };\n\n            return __assign.apply(this, arguments);\n          };\n\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function () {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n\n          var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n            Object.defineProperty(o, \"default\", {\n              enumerable: true,\n              value: v\n            });\n          } : function (o, v) {\n            o[\"default\"] = v;\n          });\n\n          var __importStar = this && this.__importStar || function (mod) {\n            if (mod && mod.__esModule) return mod;\n            var result = {};\n            if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n            __setModuleDefault(result, mod);\n\n            return result;\n          };\n\n          var __spreadArray = this && this.__spreadArray || function (to, from) {\n            for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n            return to;\n          };\n\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n\n          var react_1 = __importStar(__webpack_require__(\n          /*! react */\n          \"react\"));\n\n          var useXarrowProps_1 = __importDefault(__webpack_require__(\n          /*! ./useXarrowProps */\n          \"./src/Xarrow/useXarrowProps.ts\"));\n\n          var Xwrapper_1 = __webpack_require__(\n          /*! ../Xwrapper */\n          \"./src/Xwrapper.tsx\");\n\n          var propTypes_1 = __importDefault(__webpack_require__(\n          /*! ./propTypes */\n          \"./src/Xarrow/propTypes.ts\"));\n\n          var GetPosition_1 = __webpack_require__(\n          /*! ./utils/GetPosition */\n          \"./src/Xarrow/utils/GetPosition.tsx\");\n\n          var log = console.log;\n\n          var Xarrow = function (props) {\n            // log('xarrow update');\n            var _a;\n\n            var mainRef = react_1.useRef({\n              svgRef: react_1.useRef(null),\n              lineRef: react_1.useRef(null),\n              headRef: react_1.useRef(null),\n              tailRef: react_1.useRef(null),\n              lineDrawAnimRef: react_1.useRef(null),\n              lineDashAnimRef: react_1.useRef(null),\n              headOpacityAnimRef: react_1.useRef(null)\n            });\n            var _b = mainRef.current,\n                svgRef = _b.svgRef,\n                lineRef = _b.lineRef,\n                headRef = _b.headRef,\n                tailRef = _b.tailRef,\n                lineDrawAnimRef = _b.lineDrawAnimRef,\n                lineDashAnimRef = _b.lineDashAnimRef,\n                headOpacityAnimRef = _b.headOpacityAnimRef;\n            react_1.useContext(Xwrapper_1.XarrowContext);\n            var xProps = useXarrowProps_1.default(props, mainRef.current);\n            var propsRefs = xProps[0];\n            var labels = propsRefs.labels,\n                lineColor = propsRefs.lineColor,\n                headColor = propsRefs.headColor,\n                tailColor = propsRefs.tailColor,\n                strokeWidth = propsRefs.strokeWidth,\n                showHead = propsRefs.showHead,\n                showTail = propsRefs.showTail,\n                dashness = propsRefs.dashness,\n                headShape = propsRefs.headShape,\n                tailShape = propsRefs.tailShape,\n                showXarrow = propsRefs.showXarrow,\n                animateDrawing = propsRefs.animateDrawing,\n                zIndex = propsRefs.zIndex,\n                passProps = propsRefs.passProps,\n                arrowBodyProps = propsRefs.arrowBodyProps,\n                arrowHeadProps = propsRefs.arrowHeadProps,\n                arrowTailProps = propsRefs.arrowTailProps,\n                SVGcanvasProps = propsRefs.SVGcanvasProps,\n                divContainerProps = propsRefs.divContainerProps,\n                divContainerStyle = propsRefs.divContainerStyle,\n                SVGcanvasStyle = propsRefs.SVGcanvasStyle,\n                _debug = propsRefs._debug,\n                shouldUpdatePosition = propsRefs.shouldUpdatePosition;\n            animateDrawing = props.animateDrawing;\n\n            var _c = react_1.useState(!animateDrawing),\n                drawAnimEnded = _c[0],\n                setDrawAnimEnded = _c[1];\n\n            var _d = react_1.useState({}),\n                setRender = _d[1];\n\n            var forceRerender = function () {\n              return setRender({});\n            };\n\n            var _e = react_1.useState({\n              //initial state\n              cx0: 0,\n              cy0: 0,\n              cw: 0,\n              ch: 0,\n              x1: 0,\n              y1: 0,\n              x2: 0,\n              y2: 0,\n              dx: 0,\n              dy: 0,\n              absDx: 0,\n              absDy: 0,\n              cpx1: 0,\n              cpy1: 0,\n              cpx2: 0,\n              cpy2: 0,\n              headOrient: 0,\n              tailOrient: 0,\n              arrowHeadOffset: {\n                x: 0,\n                y: 0\n              },\n              arrowTailOffset: {\n                x: 0,\n                y: 0\n              },\n              headOffset: 0,\n              excRight: 0,\n              excLeft: 0,\n              excUp: 0,\n              excDown: 0,\n              startPoints: [],\n              endPoints: [],\n              mainDivPos: {\n                x: 0,\n                y: 0\n              },\n              xSign: 1,\n              ySign: 1,\n              lineLength: 0,\n              fHeadSize: 1,\n              fTailSize: 1,\n              arrowPath: \"\",\n              labelStartPos: {\n                x: 0,\n                y: 0\n              },\n              labelMiddlePos: {\n                x: 0,\n                y: 0\n              },\n              labelEndPos: {\n                x: 0,\n                y: 0\n              }\n            }),\n                st = _e[0],\n                setSt = _e[1];\n            /**\r\n             * The Main logic of path calculation for the arrow.\r\n             * calculate new path, adjusting canvas, and set state based on given properties.\r\n             * */\n\n\n            react_1.useLayoutEffect(function () {\n              if (shouldUpdatePosition.current) {\n                // log('xarrow getPosition');\n                var pos = GetPosition_1.getPosition(xProps, mainRef); // log('pos', pos);\n\n                setSt(pos);\n                shouldUpdatePosition.current = false;\n              }\n            }); // log('st', st);\n\n            var xOffsetHead = st.x2 - st.arrowHeadOffset.x;\n            var yOffsetHead = st.y2 - st.arrowHeadOffset.y;\n            var xOffsetTail = st.x1 - st.arrowTailOffset.x;\n            var yOffsetTail = st.y1 - st.arrowTailOffset.y;\n            var dashoffset = dashness.strokeLen + dashness.nonStrokeLen;\n            var animDirection = 1;\n\n            if (dashness.animation < 0) {\n              dashness.animation *= -1;\n              animDirection = -1;\n            }\n\n            var dashArray,\n                animation,\n                animRepeatCount,\n                animStartValue,\n                animEndValue = 0;\n\n            if (animateDrawing && drawAnimEnded == false) {\n              if (typeof animateDrawing === 'boolean') animateDrawing = 1;\n              animation = animateDrawing + 's';\n              dashArray = st.lineLength;\n              animStartValue = st.lineLength;\n              animRepeatCount = 1;\n\n              if (animateDrawing < 0) {\n                _a = [animEndValue, animStartValue], animStartValue = _a[0], animEndValue = _a[1];\n                animation = animateDrawing * -1 + 's';\n              }\n            } else {\n              dashArray = dashness.strokeLen + \" \" + dashness.nonStrokeLen;\n              animation = 1 / dashness.animation + \"s\";\n              animStartValue = dashoffset * animDirection;\n              animRepeatCount = 'indefinite';\n              animEndValue = 0;\n            } // handle draw animation\n\n\n            react_1.useLayoutEffect(function () {\n              if (lineRef.current) setSt(function (prevSt) {\n                var _a, _b;\n\n                return __assign(__assign({}, prevSt), {\n                  lineLength: (_b = (_a = lineRef.current) === null || _a === void 0 ? void 0 : _a.getTotalLength()) !== null && _b !== void 0 ? _b : 0\n                });\n              });\n            }, [lineRef.current]); // set all props on first render\n\n            react_1.useEffect(function () {\n              var monitorDOMchanges = function () {\n                window.addEventListener('resize', forceRerender);\n\n                var handleDrawAmimEnd = function () {\n                  var _a, _b;\n\n                  setDrawAnimEnded(true); // @ts-ignore\n\n                  (_a = headOpacityAnimRef.current) === null || _a === void 0 ? void 0 : _a.beginElement(); // @ts-ignore\n\n                  (_b = lineDashAnimRef.current) === null || _b === void 0 ? void 0 : _b.beginElement();\n                };\n\n                var handleDrawAmimBegin = function () {\n                  return headRef.current.style.opacity = '0';\n                };\n\n                if (lineDrawAnimRef.current && headRef.current) {\n                  lineDrawAnimRef.current.addEventListener('endEvent', handleDrawAmimEnd);\n                  lineDrawAnimRef.current.addEventListener('beginEvent', handleDrawAmimBegin);\n                }\n\n                return function () {\n                  window.removeEventListener('resize', forceRerender);\n\n                  if (lineDrawAnimRef.current) {\n                    lineDrawAnimRef.current.removeEventListener('endEvent', handleDrawAmimEnd);\n                    if (headRef.current) lineDrawAnimRef.current.removeEventListener('beginEvent', handleDrawAmimBegin);\n                  }\n                };\n              };\n\n              var cleanMonitorDOMchanges = monitorDOMchanges();\n              return function () {\n                setDrawAnimEnded(false);\n                cleanMonitorDOMchanges();\n              };\n            }, [showXarrow]); //todo: could make some advanced generic typescript inferring. for example get type from headShape.elem:T and\n            // tailShape.elem:K force the type for passProps,arrowHeadProps,arrowTailProps property. for now `as any` is used to\n            // avoid typescript conflicts\n            // so todo- fix all the `passProps as any` assertions\n\n            return react_1.default.createElement(\"div\", __assign({}, divContainerProps, {\n              style: __assign({\n                position: 'absolute',\n                zIndex: zIndex\n              }, divContainerStyle)\n            }), showXarrow ? react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"svg\", __assign({\n              ref: svgRef,\n              width: st.cw,\n              height: st.ch,\n              style: __assign({\n                position: 'absolute',\n                left: st.cx0,\n                top: st.cy0,\n                pointerEvents: 'none',\n                border: _debug ? '1px dashed yellow' : null\n              }, SVGcanvasStyle),\n              overflow: \"auto\"\n            }, SVGcanvasProps), react_1.default.createElement(\"path\", __assign({\n              ref: lineRef,\n              d: st.arrowPath,\n              stroke: lineColor,\n              strokeDasharray: dashArray,\n              // strokeDasharray={'0 0'}\n              strokeWidth: strokeWidth,\n              fill: \"transparent\",\n              pointerEvents: \"visibleStroke\"\n            }, passProps, arrowBodyProps), react_1.default.createElement(react_1.default.Fragment, null, drawAnimEnded ? react_1.default.createElement(react_1.default.Fragment, null, dashness.animation ? react_1.default.createElement(\"animate\", {\n              ref: lineDashAnimRef,\n              attributeName: \"stroke-dashoffset\",\n              values: dashoffset * animDirection + \";0\",\n              dur: 1 / dashness.animation + \"s\",\n              repeatCount: \"indefinite\"\n            }) : null) : react_1.default.createElement(react_1.default.Fragment, null, animateDrawing ? react_1.default.createElement(\"animate\", {\n              ref: lineDrawAnimRef,\n              id: \"svgEndAnimate\",\n              attributeName: \"stroke-dashoffset\",\n              values: animStartValue + \";\" + animEndValue,\n              dur: animation,\n              repeatCount: animRepeatCount\n            }) : null))), showTail ? react_1.default.createElement(\"g\", __assign({\n              fill: tailColor,\n              pointerEvents: \"auto\",\n              transform: \"translate(\" + xOffsetTail + \",\" + yOffsetTail + \") rotate(\" + st.tailOrient + \") scale(\" + st.fTailSize + \")\"\n            }, passProps, arrowTailProps), tailShape.svgElem) : null, showHead ? react_1.default.createElement(\"g\", __assign({\n              ref: headRef,\n              // d={normalArrowShape}\n              fill: headColor,\n              pointerEvents: \"auto\",\n              transform: \"translate(\" + xOffsetHead + \",\" + yOffsetHead + \") rotate(\" + st.headOrient + \") scale(\" + st.fHeadSize + \")\",\n              opacity: animateDrawing && !drawAnimEnded ? 0 : 1\n            }, passProps, arrowHeadProps), react_1.default.createElement(\"animate\", {\n              ref: headOpacityAnimRef,\n              dur: '0.4',\n              attributeName: \"opacity\",\n              from: \"0\",\n              to: \"1\",\n              begin: \"indefinite\",\n              repeatCount: \"0\",\n              fill: \"freeze\"\n            }), headShape.svgElem) : null, _debug ? react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"circle\", {\n              r: \"5\",\n              cx: st.cpx1,\n              cy: st.cpy1,\n              fill: \"green\"\n            }), react_1.default.createElement(\"circle\", {\n              r: \"5\",\n              cx: st.cpx2,\n              cy: st.cpy2,\n              fill: \"blue\"\n            }), react_1.default.createElement(\"rect\", {\n              x: st.excLeft,\n              y: st.excUp,\n              width: st.absDx,\n              height: st.absDy,\n              fill: \"none\",\n              stroke: \"pink\",\n              strokeWidth: \"2px\"\n            })) : null), labels.start ? react_1.default.createElement(\"div\", {\n              style: {\n                transform: st.dx < 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\n                width: 'max-content',\n                position: 'absolute',\n                left: st.cx0 + st.labelStartPos.x,\n                top: st.cy0 + st.labelStartPos.y - strokeWidth - 5\n              }\n            }, labels.start) : null, labels.middle ? react_1.default.createElement(\"div\", {\n              style: {\n                display: 'table',\n                width: 'max-content',\n                transform: 'translate(-50% , -50%)',\n                position: 'absolute',\n                left: st.cx0 + st.labelMiddlePos.x,\n                top: st.cy0 + st.labelMiddlePos.y\n              }\n            }, labels.middle) : null, labels.end ? react_1.default.createElement(\"div\", {\n              style: {\n                transform: st.dx > 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\n                width: 'max-content',\n                position: 'absolute',\n                left: st.cx0 + st.labelEndPos.x,\n                top: st.cy0 + st.labelEndPos.y + strokeWidth + 5\n              }\n            }, labels.end) : null, _debug ? react_1.default.createElement(react_1.default.Fragment, null, __spreadArray(__spreadArray([], st.startPoints), st.endPoints).map(function (p, i) {\n              return react_1.default.createElement(\"div\", {\n                key: i,\n                style: {\n                  background: 'gray',\n                  opacity: 0.5,\n                  borderRadius: '50%',\n                  transform: 'translate(-50%, -50%)',\n                  height: 5,\n                  width: 5,\n                  position: 'absolute',\n                  left: p.x - st.mainDivPos.x,\n                  top: p.y - st.mainDivPos.y\n                }\n              });\n            })) : null) : null);\n          }; //////////////////////////////\n          // propTypes\n\n\n          Xarrow.propTypes = propTypes_1.default;\n          exports.default = Xarrow;\n          /***/\n        },\n\n        /***/\n        \"./src/Xarrow/anchors.ts\":\n        /*!*******************************!*\\\n          !*** ./src/Xarrow/anchors.ts ***!\n          \\*******************************/\n\n        /***/\n        function (module, exports, __webpack_require__) {\n          /* module decorator */\n          module = __webpack_require__.nmd(module);\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.calcAnchors = void 0;\n\n          var getAnchorsDefaultOffsets = function (width, height) {\n            return {\n              middle: {\n                x: width * 0.5,\n                y: height * 0.5\n              },\n              left: {\n                x: 0,\n                y: height * 0.5\n              },\n              right: {\n                x: width,\n                y: height * 0.5\n              },\n              top: {\n                x: width * 0.5,\n                y: 0\n              },\n              bottom: {\n                x: width * 0.5,\n                y: height\n              }\n            };\n          };\n\n          var calcAnchors = function (anchors, anchorPos) {\n            // now prepare this list of anchors to object expected by the `getShortestLine` function\n            return anchors.map(function (anchor) {\n              var defsOffsets = getAnchorsDefaultOffsets(anchorPos.right - anchorPos.x, anchorPos.bottom - anchorPos.y);\n              var _a = defsOffsets[anchor.position],\n                  x = _a.x,\n                  y = _a.y;\n              return {\n                x: anchorPos.x + x + anchor.offset.x,\n                y: anchorPos.y + y + anchor.offset.y,\n                anchor: anchor\n              };\n            });\n          };\n\n          exports.calcAnchors = calcAnchors;\n\n          if (__webpack_require__.c[__webpack_require__.s] === module) {// const res = parseAnchor(['auto'], {\n            //   x: 0,\n            //   y: 0,\n            //   bottom: 10,\n            //   right: 20,\n            // });\n            // console.log(res);\n          }\n          /***/\n\n        },\n\n        /***/\n        \"./src/Xarrow/propTypes.ts\":\n        /*!*********************************!*\\\n          !*** ./src/Xarrow/propTypes.ts ***!\n          \\*********************************/\n\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n\n          var prop_types_1 = __importDefault(__webpack_require__(\n          /*! prop-types */\n          \"prop-types\"));\n\n          var constants_1 = __webpack_require__(\n          /*! ../constants */\n          \"./src/constants.tsx\");\n\n          var pAnchorPositionType = prop_types_1.default.oneOf(constants_1.cAnchorEdge);\n          var pAnchorCustomPositionType = prop_types_1.default.exact({\n            position: pAnchorPositionType.isRequired,\n            offset: prop_types_1.default.exact({\n              x: prop_types_1.default.number,\n              y: prop_types_1.default.number\n            }).isRequired\n          });\n\n          var _pAnchorType = prop_types_1.default.oneOfType([pAnchorPositionType, pAnchorCustomPositionType]);\n\n          var pAnchorType = prop_types_1.default.oneOfType([_pAnchorType, prop_types_1.default.arrayOf(_pAnchorType)]);\n          var pRefType = prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.exact({\n            current: prop_types_1.default.any\n          })]);\n\n          var _pLabelType = prop_types_1.default.oneOfType([prop_types_1.default.element, prop_types_1.default.string]);\n\n          var pLabelsType = prop_types_1.default.exact({\n            start: _pLabelType,\n            middle: _pLabelType,\n            end: _pLabelType\n          });\n          var pSvgEdgeShapeType = prop_types_1.default.oneOf(Object.keys(constants_1.arrowShapes)); // const pSvgElemType = PT.oneOf(cSvgElems);\n\n          var pSvgElemType = prop_types_1.default.any;\n          var pSvgEdgeType = prop_types_1.default.oneOfType([pSvgEdgeShapeType, prop_types_1.default.exact({\n            svgElem: pSvgElemType,\n            offsetForward: prop_types_1.default.number\n          }).isRequired]);\n          var XarrowPropTypes = {\n            start: pRefType.isRequired,\n            end: pRefType.isRequired,\n            startAnchor: pAnchorType,\n            endAnchor: pAnchorType,\n            labels: prop_types_1.default.oneOfType([_pLabelType, pLabelsType]),\n            color: prop_types_1.default.string,\n            lineColor: prop_types_1.default.string,\n            showHead: prop_types_1.default.bool,\n            headColor: prop_types_1.default.string,\n            headSize: prop_types_1.default.number,\n            tailSize: prop_types_1.default.number,\n            tailColor: prop_types_1.default.string,\n            strokeWidth: prop_types_1.default.number,\n            showTail: prop_types_1.default.bool,\n            path: prop_types_1.default.oneOf(constants_1.cPaths),\n            showXarrow: prop_types_1.default.bool,\n            curveness: prop_types_1.default.number,\n            gridBreak: prop_types_1.default.string,\n            dashness: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.object]),\n            headShape: pSvgEdgeType,\n            tailShape: pSvgEdgeType,\n            animateDrawing: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.number]),\n            zIndex: prop_types_1.default.number,\n            passProps: prop_types_1.default.object,\n            arrowBodyProps: prop_types_1.default.object,\n            arrowHeadProps: prop_types_1.default.object,\n            arrowTailProps: prop_types_1.default.object,\n            SVGcanvasProps: prop_types_1.default.object,\n            divContainerProps: prop_types_1.default.object,\n            _extendSVGcanvas: prop_types_1.default.number,\n            _debug: prop_types_1.default.bool,\n            _cpx1Offset: prop_types_1.default.number,\n            _cpy1Offset: prop_types_1.default.number,\n            _cpx2Offset: prop_types_1.default.number,\n            _cpy2Offset: prop_types_1.default.number\n          };\n          exports.default = XarrowPropTypes;\n          /***/\n        },\n\n        /***/\n        \"./src/Xarrow/useXarrowProps.ts\":\n        /*!**************************************!*\\\n          !*** ./src/Xarrow/useXarrowProps.ts ***!\n          \\**************************************/\n\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __assign = this && this.__assign || function () {\n            __assign = Object.assign || function (t) {\n              for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n              }\n\n              return t;\n            };\n\n            return __assign.apply(this, arguments);\n          };\n\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function () {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n\n          var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n            Object.defineProperty(o, \"default\", {\n              enumerable: true,\n              value: v\n            });\n          } : function (o, v) {\n            o[\"default\"] = v;\n          });\n\n          var __importStar = this && this.__importStar || function (mod) {\n            if (mod && mod.__esModule) return mod;\n            var result = {};\n            if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n            __setModuleDefault(result, mod);\n\n            return result;\n          };\n\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n\n          var react_1 = __importStar(__webpack_require__(\n          /*! react */\n          \"react\"));\n\n          var utils_1 = __webpack_require__(\n          /*! ./utils */\n          \"./src/Xarrow/utils/index.ts\");\n\n          var lodash_1 = __importDefault(__webpack_require__(\n          /*! lodash */\n          \"lodash\"));\n\n          var constants_1 = __webpack_require__(\n          /*! ../constants */\n          \"./src/constants.tsx\");\n\n          var parseLabels = function (label) {\n            var parsedLabel = {\n              start: null,\n              middle: null,\n              end: null\n            };\n\n            if (label) {\n              if (typeof label === 'string' || react_1.default.isValidElement(label)) parsedLabel.middle = label;else {\n                for (var key in label) {\n                  parsedLabel[key] = label[key];\n                }\n              }\n            }\n\n            return parsedLabel;\n          };\n\n          var parseAnchor = function (anchor) {\n            // convert to array\n            var anchorChoice = Array.isArray(anchor) ? anchor : [anchor]; //convert to array of objects\n\n            var anchorChoice2 = anchorChoice.map(function (anchorChoice) {\n              if (typeof anchorChoice === 'string') {\n                return {\n                  position: anchorChoice\n                };\n              } else return anchorChoice;\n            }); //remove any invalid anchor names\n\n            anchorChoice2 = anchorChoice2.filter(function (an) {\n              return constants_1.cAnchorEdge.includes(an.position);\n            });\n            if (anchorChoice2.length == 0) anchorChoice2 = [{\n              position: 'auto'\n            }]; //replace any 'auto' with ['left','right','bottom','top']\n\n            var autosAncs = anchorChoice2.filter(function (an) {\n              return an.position === 'auto';\n            });\n\n            if (autosAncs.length > 0) {\n              anchorChoice2 = anchorChoice2.filter(function (an) {\n                return an.position !== 'auto';\n              });\n              anchorChoice2.push.apply(anchorChoice2, autosAncs.flatMap(function (anchorObj) {\n                return ['left', 'right', 'top', 'bottom'].map(function (anchorName) {\n                  return __assign(__assign({}, anchorObj), {\n                    position: anchorName\n                  });\n                });\n              }));\n            } // default values\n\n\n            var anchorChoice3 = anchorChoice2.map(function (anchorChoice) {\n              if (typeof anchorChoice === 'object') {\n                var anchorChoiceCustom = anchorChoice;\n                if (!anchorChoiceCustom.position) anchorChoiceCustom.position = 'auto';\n                if (!anchorChoiceCustom.offset) anchorChoiceCustom.offset = {\n                  x: 0,\n                  y: 0\n                };\n                if (!anchorChoiceCustom.offset.y) anchorChoiceCustom.offset.y = 0;\n                if (!anchorChoiceCustom.offset.x) anchorChoiceCustom.offset.x = 0;\n                anchorChoiceCustom = anchorChoiceCustom;\n                return anchorChoiceCustom;\n              } else return anchorChoice;\n            });\n            return anchorChoice3;\n          };\n\n          var parseDashness = function (dashness, props) {\n            var dashStroke = 0,\n                dashNone = 0,\n                animDashSpeed,\n                animDirection = 1;\n\n            if (typeof dashness === 'object') {\n              dashStroke = dashness.strokeLen || props.strokeWidth * 2;\n              dashNone = dashness.strokeLen ? dashness.nonStrokeLen : props.strokeWidth;\n              animDashSpeed = dashness.animation ? dashness.animation : null;\n            } else if (typeof dashness === 'boolean' && dashness) {\n              dashStroke = props.strokeWidth * 2;\n              dashNone = props.strokeWidth;\n              animDashSpeed = null;\n            }\n\n            return {\n              strokeLen: dashStroke,\n              nonStrokeLen: dashNone,\n              animation: animDashSpeed,\n              animDirection: animDirection\n            };\n          };\n\n          var parseEdgeShape = function (svgEdge) {\n            if (typeof svgEdge == 'string') {\n              if (svgEdge in constants_1.arrowShapes) svgEdge = constants_1.arrowShapes[svgEdge];else {\n                console.warn(\"'\" + svgEdge + \"' is not supported arrow shape. the supported arrow shapes is one of \" + constants_1.cArrowShapes + \".\\n           reverting to default shape.\");\n                svgEdge = constants_1.arrowShapes['arrow1'];\n              }\n            }\n\n            svgEdge = svgEdge;\n            if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.offsetForward) === undefined) svgEdge.offsetForward = 0.25;\n            if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.svgElem) === undefined) svgEdge.svgElem = 'path'; // if (svgEdge?.svgProps === undefined) svgEdge.svgProps = arrowShapes.arrow1.svgProps;\n\n            return svgEdge;\n          };\n\n          var parseGridBreak = function (gridBreak) {\n            var resGridBreak = utils_1.xStr2absRelative(gridBreak);\n            if (!resGridBreak) resGridBreak = {\n              relative: 0.5,\n              abs: 0\n            };\n            return resGridBreak;\n          };\n          /**\r\n           * should be wrapped with any changed prop that is affecting the points path positioning\r\n           * @param propVal\r\n           * @param updateRef\r\n           */\n\n\n          var withUpdate = function (propVal, updateRef) {\n            if (updateRef) updateRef.current = true;\n            return propVal;\n          };\n\n          var noParse = function (userProp) {\n            return userProp;\n          };\n\n          var noParseWithUpdatePos = function (userProp, _, updatePos) {\n            return withUpdate(userProp, updatePos);\n          };\n\n          var parseNumWithUpdatePos = function (userProp, _, updatePos) {\n            return withUpdate(Number(userProp), updatePos);\n          };\n\n          var parseNum = function (userProp) {\n            return Number(userProp);\n          };\n\n          var parsePropsFuncs = {\n            start: function (userProp) {\n              return utils_1.getElementByPropGiven(userProp);\n            },\n            end: function (userProp) {\n              return utils_1.getElementByPropGiven(userProp);\n            },\n            startAnchor: function (userProp, _, updatePos) {\n              return withUpdate(parseAnchor(userProp), updatePos);\n            },\n            endAnchor: function (userProp, _, updatePos) {\n              return withUpdate(parseAnchor(userProp), updatePos);\n            },\n            labels: function (userProp) {\n              return parseLabels(userProp);\n            },\n            color: noParse,\n            lineColor: function (userProp, propsRefs) {\n              return userProp || propsRefs.color;\n            },\n            headColor: function (userProp, propsRefs) {\n              return userProp || propsRefs.color;\n            },\n            tailColor: function (userProp, propsRefs) {\n              return userProp || propsRefs.color;\n            },\n            strokeWidth: parseNumWithUpdatePos,\n            showHead: noParseWithUpdatePos,\n            headSize: parseNumWithUpdatePos,\n            showTail: noParseWithUpdatePos,\n            tailSize: parseNumWithUpdatePos,\n            path: noParseWithUpdatePos,\n            curveness: parseNumWithUpdatePos,\n            gridBreak: function (userProp, _, updatePos) {\n              return withUpdate(parseGridBreak(userProp), updatePos);\n            },\n            // // gridRadius = strokeWidth * 2, //todo\n            dashness: function (userProp, propsRefs) {\n              return parseDashness(userProp, propsRefs);\n            },\n            headShape: function (userProp) {\n              return parseEdgeShape(userProp);\n            },\n            tailShape: function (userProp) {\n              return parseEdgeShape(userProp);\n            },\n            showXarrow: noParse,\n            animateDrawing: noParse,\n            zIndex: parseNum,\n            passProps: noParse,\n            arrowBodyProps: noParseWithUpdatePos,\n            arrowHeadProps: noParseWithUpdatePos,\n            arrowTailProps: noParseWithUpdatePos,\n            SVGcanvasProps: noParseWithUpdatePos,\n            divContainerProps: noParseWithUpdatePos,\n            divContainerStyle: noParseWithUpdatePos,\n            SVGcanvasStyle: noParseWithUpdatePos,\n            _extendSVGcanvas: noParseWithUpdatePos,\n            _debug: noParseWithUpdatePos,\n            _cpx1Offset: noParseWithUpdatePos,\n            _cpy1Offset: noParseWithUpdatePos,\n            _cpx2Offset: noParseWithUpdatePos,\n            _cpy2Offset: noParseWithUpdatePos\n          }; //build dependencies\n\n          var propsDeps = {}; //each prop depends on himself\n\n          for (var propName in parsePropsFuncs) {\n            propsDeps[propName] = [propName];\n          } // 'lineColor', 'headColor', 'tailColor' props also depends on 'color' prop\n\n\n          for (var _i = 0, _a = ['lineColor', 'headColor', 'tailColor']; _i < _a.length; _i++) {\n            var propName = _a[_i];\n            propsDeps[propName].push('color');\n          }\n\n          var parseGivenProps = function (props, propsRef) {\n            var _a;\n\n            for (var _i = 0, _b = Object.entries(props); _i < _b.length; _i++) {\n              var _c = _b[_i],\n                  name_1 = _c[0],\n                  val = _c[1];\n              propsRef[name_1] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[name_1]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, val, propsRef);\n            }\n\n            return propsRef;\n          };\n\n          var defaultProps = {\n            start: null,\n            end: null,\n            startAnchor: 'auto',\n            endAnchor: 'auto',\n            labels: null,\n            color: 'CornflowerBlue',\n            lineColor: null,\n            headColor: null,\n            tailColor: null,\n            strokeWidth: 4,\n            showHead: true,\n            headSize: 6,\n            showTail: false,\n            tailSize: 6,\n            path: 'smooth',\n            curveness: 0.8,\n            gridBreak: '50%',\n            // gridRadius : strokeWidth * 2, //todo\n            dashness: false,\n            headShape: 'arrow1',\n            tailShape: 'arrow1',\n            showXarrow: true,\n            animateDrawing: false,\n            zIndex: 0,\n            passProps: {},\n            arrowBodyProps: {},\n            arrowHeadProps: {},\n            arrowTailProps: {},\n            SVGcanvasProps: {},\n            divContainerProps: {},\n            divContainerStyle: {},\n            SVGcanvasStyle: {},\n            _extendSVGcanvas: 0,\n            _debug: false,\n            _cpx1Offset: 0,\n            _cpy1Offset: 0,\n            _cpx2Offset: 0,\n            _cpy2Offset: 0\n          };\n          var initialParsedProps = {};\n          initialParsedProps = parseGivenProps(defaultProps, initialParsedProps);\n          var initialValVars = {\n            startPos: {\n              x: 0,\n              y: 0,\n              right: 0,\n              bottom: 0\n            },\n            endPos: {\n              x: 0,\n              y: 0,\n              right: 0,\n              bottom: 0\n            }\n          }; // const parseAllProps = () => parseGivenProps(defaultProps, initialParsedProps);\n\n          function deepCompareEquals(a, b) {\n            return lodash_1.default.isEqual(a, b);\n          }\n\n          function useDeepCompareMemoize(value) {\n            var ref = react_1.useRef(); // it can be done by using useMemo as well\n            // but useRef is rather cleaner and easier\n\n            if (!deepCompareEquals(value, ref.current)) {\n              ref.current = value;\n            }\n\n            return ref.current;\n          }\n\n          function useDeepCompareEffect(callback, dependencies) {\n            react_1.useLayoutEffect(callback, dependencies.map(useDeepCompareMemoize));\n          }\n          /**\r\n           * smart hook that provides parsed props to Xarrow and will trigger rerender whenever given prop is changed.\r\n           */\n\n\n          var useXarrowProps = function (userProps, refs) {\n            var _a = react_1.useState(initialParsedProps),\n                propsRefs = _a[0],\n                setPropsRefs = _a[1];\n\n            var shouldUpdatePosition = react_1.useRef(false); // const _propsRefs = useRef(initialParsedProps);\n            // const propsRefs = _propsRefs.current;\n\n            propsRefs['shouldUpdatePosition'] = shouldUpdatePosition;\n\n            var curProps = __assign(__assign({}, defaultProps), userProps);\n\n            var _loop_1 = function (propName) {\n              react_1.useLayoutEffect(function () {\n                var _a;\n\n                propsRefs[propName] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[propName]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, curProps[propName], propsRefs, shouldUpdatePosition); // console.log('prop update:', propName, 'with value', propsRefs[propName]);\n\n                setPropsRefs(__assign({}, propsRefs));\n              }, propsDeps[propName].map(function (name) {\n                return userProps[name];\n              }));\n            }; // react states the number of hooks per render must stay constant,\n            // this is ok we are using these hooks in a loop, because the number of props in defaultProps is constant,\n            // so the number of hook we will fire each render will always be the same.\n            // update the value of the ref that represents the corresponding prop\n            // for example: if given 'start' prop would change call getElementByPropGiven(props.start) and save value into propsRefs.start.current\n            // why to save refs to props parsed values? some of the props require relatively expensive computations(like 'start' and 'startAnchor').\n            // this will always run in the same order and THAT'S WAY ITS LEGAL\n\n\n            for (var propName in defaultProps) {\n              _loop_1(propName);\n            } // rerender whenever position of start element or end element changes\n\n\n            var _b = react_1.useState(initialValVars),\n                valVars = _b[0],\n                setValVars = _b[1];\n\n            var startPos = utils_1.getElemPos(propsRefs.start);\n            useDeepCompareEffect(function () {\n              valVars.startPos = startPos;\n              shouldUpdatePosition.current = true;\n              setValVars(__assign({}, valVars)); // console.log('start update pos', startPos);\n            }, [startPos]);\n            var endPos = utils_1.getElemPos(propsRefs.end);\n            useDeepCompareEffect(function () {\n              valVars.endPos = endPos;\n              shouldUpdatePosition.current = true;\n              setValVars(__assign({}, valVars)); // console.log('end update pos', endPos);\n            }, [endPos]);\n            react_1.useLayoutEffect(function () {\n              // console.log('svg shape changed!');\n              shouldUpdatePosition.current = true;\n              setValVars(__assign({}, valVars));\n            }, [propsRefs.headShape.svgElem, propsRefs.tailShape.svgElem]);\n            return [propsRefs, valVars];\n          };\n\n          exports.default = useXarrowProps;\n          /***/\n        },\n\n        /***/\n        \"./src/Xarrow/utils/GetPosition.tsx\":\n        /*!******************************************!*\\\n          !*** ./src/Xarrow/utils/GetPosition.tsx ***!\n          \\******************************************/\n\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.getPosition = void 0;\n\n          var anchors_1 = __webpack_require__(\n          /*! ../anchors */\n          \"./src/Xarrow/anchors.ts\");\n\n          var index_1 = __webpack_require__(\n          /*! ./index */\n          \"./src/Xarrow/utils/index.ts\");\n\n          var lodash_1 = __importDefault(__webpack_require__(\n          /*! lodash */\n          \"lodash\"));\n\n          var constants_1 = __webpack_require__(\n          /*! ../../constants */\n          \"./src/constants.tsx\");\n\n          var buzzier_1 = __webpack_require__(\n          /*! ./buzzier */\n          \"./src/Xarrow/utils/buzzier.js\");\n          /**\r\n           * The Main logic of path calculation for the arrow.\r\n           * calculate new path, adjusting canvas, and set state based on given properties.\r\n           * */\n\n\n          var getPosition = function (xProps, mainRef) {\n            var _a, _b;\n\n            var _c, _d;\n\n            var propsRefs = xProps[0],\n                valVars = xProps[1];\n            var startAnchor = propsRefs.startAnchor,\n                endAnchor = propsRefs.endAnchor,\n                strokeWidth = propsRefs.strokeWidth,\n                showHead = propsRefs.showHead,\n                headSize = propsRefs.headSize,\n                showTail = propsRefs.showTail,\n                tailSize = propsRefs.tailSize,\n                path = propsRefs.path,\n                curveness = propsRefs.curveness,\n                gridBreak = propsRefs.gridBreak,\n                headShape = propsRefs.headShape,\n                tailShape = propsRefs.tailShape,\n                _extendSVGcanvas = propsRefs._extendSVGcanvas,\n                _cpx1Offset = propsRefs._cpx1Offset,\n                _cpy1Offset = propsRefs._cpy1Offset,\n                _cpx2Offset = propsRefs._cpx2Offset,\n                _cpy2Offset = propsRefs._cpy2Offset;\n            var startPos = valVars.startPos,\n                endPos = valVars.endPos;\n            var _e = mainRef.current,\n                svgRef = _e.svgRef,\n                lineRef = _e.lineRef;\n            var headOrient = 0;\n            var tailOrient = 0; // convert startAnchor and endAnchor to list of objects represents allowed anchors.\n\n            var startPoints = anchors_1.calcAnchors(startAnchor, startPos);\n            var endPoints = anchors_1.calcAnchors(endAnchor, endPos); // choose the smallest path for 2 points from these possibilities.\n\n            var _f = index_1.getShortestLine(startPoints, endPoints),\n                chosenStart = _f.chosenStart,\n                chosenEnd = _f.chosenEnd;\n\n            var startAnchorPosition = chosenStart.anchor.position,\n                endAnchorPosition = chosenEnd.anchor.position;\n            var startPoint = lodash_1.default.pick(chosenStart, ['x', 'y']),\n                endPoint = lodash_1.default.pick(chosenEnd, ['x', 'y']);\n            var mainDivPos = index_1.getSvgPos(svgRef);\n            var cx0 = Math.min(startPoint.x, endPoint.x) - mainDivPos.x;\n            var cy0 = Math.min(startPoint.y, endPoint.y) - mainDivPos.y;\n            var dx = endPoint.x - startPoint.x;\n            var dy = endPoint.y - startPoint.y;\n            var absDx = Math.abs(endPoint.x - startPoint.x);\n            var absDy = Math.abs(endPoint.y - startPoint.y);\n            var xSign = dx > 0 ? 1 : -1;\n            var ySign = dy > 0 ? 1 : -1;\n            var _g = [headShape.offsetForward, tailShape.offsetForward],\n                headOffset = _g[0],\n                tailOffset = _g[1];\n            var fHeadSize = headSize * strokeWidth; //factored head size\n\n            var fTailSize = tailSize * strokeWidth; //factored head size\n            // const { current: _headBox } = headBox;\n\n            var xHeadOffset = 0;\n            var yHeadOffset = 0;\n            var xTailOffset = 0;\n            var yTailOffset = 0;\n\n            var _headOffset = fHeadSize * headOffset;\n\n            var _tailOffset = fTailSize * tailOffset;\n\n            var cu = Number(curveness); // gridRadius = Number(gridRadius);\n\n            if (!constants_1.cPaths.includes(path)) path = 'smooth';\n\n            if (path === 'straight') {\n              cu = 0;\n              path = 'smooth';\n            }\n\n            var biggerSide = headSize > tailSize ? headSize : tailSize;\n\n            var _calc = strokeWidth + strokeWidth * biggerSide / 2;\n\n            var excRight = _calc;\n            var excLeft = _calc;\n            var excUp = _calc;\n            var excDown = _calc;\n            excLeft += Number(_extendSVGcanvas);\n            excRight += Number(_extendSVGcanvas);\n            excUp += Number(_extendSVGcanvas);\n            excDown += Number(_extendSVGcanvas); ////////////////////////////////////\n            // arrow point to point calculations\n\n            var x1 = 0,\n                x2 = absDx,\n                y1 = 0,\n                y2 = absDy;\n            if (dx < 0) _a = [x2, x1], x1 = _a[0], x2 = _a[1];\n            if (dy < 0) _b = [y2, y1], y1 = _b[0], y2 = _b[1]; ////////////////////////////////////\n            // arrow curviness and arrowhead placement calculations\n\n            if (cu === 0) {\n              // in case of straight path\n              var headAngel = Math.atan(absDy / absDx);\n\n              if (showHead) {\n                x2 -= fHeadSize * (1 - headOffset) * xSign * Math.cos(headAngel);\n                y2 -= fHeadSize * (1 - headOffset) * ySign * Math.sin(headAngel);\n                headAngel *= ySign;\n                if (xSign < 0) headAngel = (Math.PI - headAngel * xSign) * xSign;\n                xHeadOffset = Math.cos(headAngel) * _headOffset - Math.sin(headAngel) * fHeadSize / 2;\n                yHeadOffset = Math.cos(headAngel) * fHeadSize / 2 + Math.sin(headAngel) * _headOffset;\n                headOrient = headAngel * 180 / Math.PI;\n              }\n\n              var tailAngel = Math.atan(absDy / absDx);\n\n              if (showTail) {\n                x1 += fTailSize * (1 - tailOffset) * xSign * Math.cos(tailAngel);\n                y1 += fTailSize * (1 - tailOffset) * ySign * Math.sin(tailAngel);\n                tailAngel *= -ySign;\n                if (xSign > 0) tailAngel = (Math.PI - tailAngel * xSign) * xSign;\n                xTailOffset = Math.cos(tailAngel) * _tailOffset - Math.sin(tailAngel) * fTailSize / 2;\n                yTailOffset = Math.cos(tailAngel) * fTailSize / 2 + Math.sin(tailAngel) * _tailOffset;\n                tailOrient = tailAngel * 180 / Math.PI;\n              }\n            } else {\n              // in case of smooth path\n              if (endAnchorPosition === 'middle') {\n                // in case a middle anchor is chosen for endAnchor choose from which side to attach to the middle of the element\n                if (absDx > absDy) {\n                  endAnchorPosition = xSign ? 'left' : 'right';\n                } else {\n                  endAnchorPosition = ySign ? 'top' : 'bottom';\n                }\n              }\n\n              if (showHead) {\n                if (['left', 'right'].includes(endAnchorPosition)) {\n                  xHeadOffset += _headOffset * xSign;\n                  x2 -= fHeadSize * (1 - headOffset) * xSign; //same!\n\n                  yHeadOffset += fHeadSize * xSign / 2;\n\n                  if (endAnchorPosition === 'left') {\n                    headOrient = 0;\n                    if (xSign < 0) headOrient += 180;\n                  } else {\n                    headOrient = 180;\n                    if (xSign > 0) headOrient += 180;\n                  }\n                } else if (['top', 'bottom'].includes(endAnchorPosition)) {\n                  xHeadOffset += fHeadSize * -ySign / 2;\n                  yHeadOffset += _headOffset * ySign;\n                  y2 -= fHeadSize * ySign - yHeadOffset;\n\n                  if (endAnchorPosition === 'top') {\n                    headOrient = 270;\n                    if (ySign > 0) headOrient += 180;\n                  } else {\n                    headOrient = 90;\n                    if (ySign < 0) headOrient += 180;\n                  }\n                }\n              }\n            }\n\n            if (showTail && cu !== 0) {\n              if (['left', 'right'].includes(startAnchorPosition)) {\n                xTailOffset += _tailOffset * -xSign;\n                x1 += fTailSize * xSign + xTailOffset;\n                yTailOffset += -(fTailSize * xSign) / 2;\n\n                if (startAnchorPosition === 'left') {\n                  tailOrient = 180;\n                  if (xSign < 0) tailOrient += 180;\n                } else {\n                  tailOrient = 0;\n                  if (xSign > 0) tailOrient += 180;\n                }\n              } else if (['top', 'bottom'].includes(startAnchorPosition)) {\n                yTailOffset += _tailOffset * -ySign;\n                y1 += fTailSize * ySign + yTailOffset;\n                xTailOffset += fTailSize * ySign / 2;\n\n                if (startAnchorPosition === 'top') {\n                  tailOrient = 90;\n                  if (ySign > 0) tailOrient += 180;\n                } else {\n                  tailOrient = 270;\n                  if (ySign < 0) tailOrient += 180;\n                }\n              }\n            }\n\n            var arrowHeadOffset = {\n              x: xHeadOffset,\n              y: yHeadOffset\n            };\n            var arrowTailOffset = {\n              x: xTailOffset,\n              y: yTailOffset\n            };\n            var cpx1 = x1,\n                cpy1 = y1,\n                cpx2 = x2,\n                cpy2 = y2;\n            var curvesPossibilities = {};\n            if (path === 'smooth') curvesPossibilities = {\n              hh: function () {\n                //horizontal - from right to left or the opposite\n                cpx1 += absDx * cu * xSign;\n                cpx2 -= absDx * cu * xSign;\n              },\n              vv: function () {\n                //vertical - from top to bottom or opposite\n                cpy1 += absDy * cu * ySign;\n                cpy2 -= absDy * cu * ySign;\n              },\n              hv: function () {\n                // start horizontally then vertically\n                // from v side to h side\n                cpx1 += absDx * cu * xSign;\n                cpy2 -= absDy * cu * ySign;\n              },\n              vh: function () {\n                // start vertically then horizontally\n                // from h side to v side\n                cpy1 += absDy * cu * ySign;\n                cpx2 -= absDx * cu * xSign;\n              }\n            };else if (path === 'grid') {\n              curvesPossibilities = {\n                hh: function () {\n                  cpx1 += (absDx * gridBreak.relative + gridBreak.abs) * xSign;\n                  cpx2 -= (absDx * (1 - gridBreak.relative) - gridBreak.abs) * xSign;\n\n                  if (showHead) {\n                    cpx1 -= fHeadSize * (1 - headOffset) / 2 * xSign;\n                    cpx2 += fHeadSize * (1 - headOffset) / 2 * xSign;\n                  }\n\n                  if (showTail) {\n                    cpx1 -= fTailSize * (1 - tailOffset) / 2 * xSign;\n                    cpx2 += fTailSize * (1 - tailOffset) / 2 * xSign;\n                  }\n                },\n                vv: function () {\n                  cpy1 += (absDy * gridBreak.relative + gridBreak.abs) * ySign;\n                  cpy2 -= (absDy * (1 - gridBreak.relative) - gridBreak.abs) * ySign;\n\n                  if (showHead) {\n                    cpy1 -= fHeadSize * (1 - headOffset) / 2 * ySign;\n                    cpy2 += fHeadSize * (1 - headOffset) / 2 * ySign;\n                  }\n\n                  if (showTail) {\n                    cpy1 -= fTailSize * (1 - tailOffset) / 2 * ySign;\n                    cpy2 += fTailSize * (1 - tailOffset) / 2 * ySign;\n                  }\n                },\n                hv: function () {\n                  cpx1 = x2;\n                },\n                vh: function () {\n                  cpy1 = y2;\n                }\n              };\n            } // smart select best curve for the current anchors\n\n            var selectedCurviness = '';\n            if (['left', 'right'].includes(startAnchorPosition)) selectedCurviness += 'h';else if (['bottom', 'top'].includes(startAnchorPosition)) selectedCurviness += 'v';else if (startAnchorPosition === 'middle') selectedCurviness += 'm';\n            if (['left', 'right'].includes(endAnchorPosition)) selectedCurviness += 'h';else if (['bottom', 'top'].includes(endAnchorPosition)) selectedCurviness += 'v';else if (endAnchorPosition === 'middle') selectedCurviness += 'm';\n            if (absDx > absDy) selectedCurviness = selectedCurviness.replace(/m/g, 'h');else selectedCurviness = selectedCurviness.replace(/m/g, 'v');\n            curvesPossibilities[selectedCurviness]();\n            cpx1 += _cpx1Offset;\n            cpy1 += _cpy1Offset;\n            cpx2 += _cpx2Offset;\n            cpy2 += _cpy2Offset; ////////////////////////////////////\n            // canvas smart size adjustments\n\n            var _h = buzzier_1.buzzierMinSols(x1, cpx1, cpx2, x2),\n                xSol1 = _h[0],\n                xSol2 = _h[1];\n\n            var _j = buzzier_1.buzzierMinSols(y1, cpy1, cpy2, y2),\n                ySol1 = _j[0],\n                ySol2 = _j[1];\n\n            if (xSol1 < 0) excLeft += -xSol1;\n            if (xSol2 > absDx) excRight += xSol2 - absDx;\n            if (ySol1 < 0) excUp += -ySol1;\n            if (ySol2 > absDy) excDown += ySol2 - absDy;\n\n            if (path === 'grid') {\n              excLeft += _calc;\n              excRight += _calc;\n              excUp += _calc;\n              excDown += _calc;\n            }\n\n            x1 += excLeft;\n            x2 += excLeft;\n            y1 += excUp;\n            y2 += excUp;\n            cpx1 += excLeft;\n            cpx2 += excLeft;\n            cpy1 += excUp;\n            cpy2 += excUp;\n            var cw = absDx + excLeft + excRight,\n                ch = absDy + excUp + excDown;\n            cx0 -= excLeft;\n            cy0 -= excUp; //labels\n\n            var bzx = buzzier_1.bzFunction(x1, cpx1, cpx2, x2);\n            var bzy = buzzier_1.bzFunction(y1, cpy1, cpy2, y2);\n            var labelStartPos = {\n              x: bzx(0.01),\n              y: bzy(0.01)\n            };\n            var labelMiddlePos = {\n              x: bzx(0.5),\n              y: bzy(0.5)\n            };\n            var labelEndPos = {\n              x: bzx(0.99),\n              y: bzy(0.99)\n            };\n            var arrowPath;\n\n            if (path === 'grid') {\n              // todo: support gridRadius\n              //  arrowPath = `M ${x1} ${y1} L  ${cpx1 - 10} ${cpy1} a10,10 0 0 1 10,10\n              // L ${cpx2} ${cpy2 - 10} a10,10 0 0 0 10,10 L  ${x2} ${y2}`;\n              arrowPath = \"M \" + x1 + \" \" + y1 + \" L  \" + cpx1 + \" \" + cpy1 + \" L \" + cpx2 + \" \" + cpy2 + \" \" + x2 + \" \" + y2;\n            } else if (path === 'smooth') arrowPath = \"M \" + x1 + \" \" + y1 + \" C \" + cpx1 + \" \" + cpy1 + \", \" + cpx2 + \" \" + cpy2 + \", \" + x2 + \" \" + y2;\n\n            return {\n              cx0: cx0,\n              cy0: cy0,\n              x1: x1,\n              x2: x2,\n              y1: y1,\n              y2: y2,\n              cw: cw,\n              ch: ch,\n              cpx1: cpx1,\n              cpy1: cpy1,\n              cpx2: cpx2,\n              cpy2: cpy2,\n              dx: dx,\n              dy: dy,\n              absDx: absDx,\n              absDy: absDy,\n              headOrient: headOrient,\n              tailOrient: tailOrient,\n              labelStartPos: labelStartPos,\n              labelMiddlePos: labelMiddlePos,\n              labelEndPos: labelEndPos,\n              excLeft: excLeft,\n              excRight: excRight,\n              excUp: excUp,\n              excDown: excDown,\n              headOffset: _headOffset,\n              arrowHeadOffset: arrowHeadOffset,\n              arrowTailOffset: arrowTailOffset,\n              startPoints: startPoints,\n              endPoints: endPoints,\n              mainDivPos: mainDivPos,\n              xSign: xSign,\n              ySign: ySign,\n              lineLength: (_d = (_c = lineRef.current) === null || _c === void 0 ? void 0 : _c.getTotalLength()) !== null && _d !== void 0 ? _d : 0,\n              fHeadSize: fHeadSize,\n              fTailSize: fTailSize,\n              arrowPath: arrowPath\n            };\n          };\n\n          exports.getPosition = getPosition;\n          /***/\n        },\n\n        /***/\n        \"./src/Xarrow/utils/index.ts\":\n        /*!***********************************!*\\\n          !*** ./src/Xarrow/utils/index.ts ***!\n          \\***********************************/\n\n        /***/\n        function (__unused_webpack_module, exports) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.getSvgPos = exports.getElemPos = exports.getShortestLine = exports.xStr2absRelative = exports.factorDpathStr = exports.getElementByPropGiven = void 0;\n\n          var getElementByPropGiven = function (ref) {\n            var myRef;\n\n            if (typeof ref === 'string') {\n              // myRef = document.getElementById(ref);\n              myRef = document.getElementById(ref);\n            } else myRef = ref === null || ref === void 0 ? void 0 : ref.current;\n\n            return myRef;\n          };\n\n          exports.getElementByPropGiven = getElementByPropGiven; // receives string representing a d path and factoring only the numbers\n\n          var factorDpathStr = function (d, factor) {\n            var l = d.split(/(\\d+(?:\\.\\d+)?)/);\n            l = l.map(function (s) {\n              if (Number(s)) return (Number(s) * factor).toString();else return s;\n            });\n            return l.join('');\n          };\n\n          exports.factorDpathStr = factorDpathStr; // return relative,abs\n\n          var xStr2absRelative = function (str) {\n            if (typeof str !== 'string') return {\n              abs: 0,\n              relative: 0.5\n            };\n            var sp = str.split('%');\n            var absLen = 0,\n                percentLen = 0;\n\n            if (sp.length == 1) {\n              var p = parseFloat(sp[0]);\n\n              if (!isNaN(p)) {\n                absLen = p;\n                return {\n                  abs: absLen,\n                  relative: 0\n                };\n              }\n            } else if (sp.length == 2) {\n              var _a = [parseFloat(sp[0]), parseFloat(sp[1])],\n                  p1 = _a[0],\n                  p2 = _a[1];\n              if (!isNaN(p1)) percentLen = p1 / 100;\n              if (!isNaN(p2)) absLen = p2;\n              if (!isNaN(p1) || !isNaN(p2)) return {\n                abs: absLen,\n                relative: percentLen\n              };\n            }\n          };\n\n          exports.xStr2absRelative = xStr2absRelative;\n\n          var dist = function (p1, p2) {\n            //length of line\n            return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n          };\n\n          var getShortestLine = function (sPoints, ePoints) {\n            // closes tPair Of Points which feet to the specified anchors\n            var minDist = Infinity,\n                d = Infinity;\n            var closestPair;\n            sPoints.forEach(function (sp) {\n              ePoints.forEach(function (ep) {\n                d = dist(sp, ep);\n\n                if (d < minDist) {\n                  minDist = d;\n                  closestPair = {\n                    chosenStart: sp,\n                    chosenEnd: ep\n                  };\n                }\n              });\n            });\n            return closestPair;\n          };\n\n          exports.getShortestLine = getShortestLine;\n\n          var getElemPos = function (elem) {\n            if (!elem) return {\n              x: 0,\n              y: 0,\n              right: 0,\n              bottom: 0\n            };\n            var pos = elem.getBoundingClientRect();\n            return {\n              x: pos.left,\n              y: pos.top,\n              right: pos.right,\n              bottom: pos.bottom\n            };\n          };\n\n          exports.getElemPos = getElemPos;\n\n          var getSvgPos = function (svgRef) {\n            if (!svgRef.current) return {\n              x: 0,\n              y: 0\n            };\n\n            var _a = svgRef.current.getBoundingClientRect(),\n                xarrowElemX = _a.left,\n                xarrowElemY = _a.top;\n\n            var xarrowStyle = getComputedStyle(svgRef.current);\n            var xarrowStyleLeft = Number(xarrowStyle.left.slice(0, -2));\n            var xarrowStyleTop = Number(xarrowStyle.top.slice(0, -2));\n            return {\n              x: xarrowElemX - xarrowStyleLeft,\n              y: xarrowElemY - xarrowStyleTop\n            };\n          };\n\n          exports.getSvgPos = getSvgPos;\n          /***/\n        },\n\n        /***/\n        \"./src/Xwrapper.tsx\":\n        /*!**************************!*\\\n          !*** ./src/Xwrapper.tsx ***!\n          \\**************************/\n\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function () {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n\n          var __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n            Object.defineProperty(o, \"default\", {\n              enumerable: true,\n              value: v\n            });\n          } : function (o, v) {\n            o[\"default\"] = v;\n          });\n\n          var __importStar = this && this.__importStar || function (mod) {\n            if (mod && mod.__esModule) return mod;\n            var result = {};\n            if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n            __setModuleDefault(result, mod);\n\n            return result;\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.XarrowContext = exports.XelemContext = void 0;\n\n          var react_1 = __importStar(__webpack_require__(\n          /*! react */\n          \"react\"));\n\n          exports.XelemContext = react_1.default.createContext(null);\n          exports.XarrowContext = react_1.default.createContext(null);\n          var updateRef = {};\n          var updateRefCount = 0;\n          var log = console.log;\n\n          var XarrowProvider = function (_a) {\n            var children = _a.children,\n                instanceCount = _a.instanceCount;\n\n            var _b = react_1.useState({}),\n                setRender = _b[1];\n\n            var updateXarrow = function () {\n              return setRender({});\n            };\n\n            react_1.useEffect(function () {\n              instanceCount.current = updateRefCount; // so this instance would know what is id\n\n              updateRef[instanceCount.current] = updateXarrow;\n            }, []); // log('XarrowProvider', updateRefCount);\n\n            return react_1.default.createElement(exports.XarrowContext.Provider, {\n              value: updateXarrow\n            }, children);\n          };\n\n          var XelemProvider = function (_a) {\n            var children = _a.children,\n                instanceCount = _a.instanceCount;\n            return react_1.default.createElement(exports.XelemContext.Provider, {\n              value: updateRef[instanceCount.current]\n            }, children);\n          };\n\n          var Xwrapper = function (_a) {\n            var children = _a.children;\n            var instanceCount = react_1.useRef(updateRefCount);\n\n            var _b = react_1.useState({}),\n                setRender = _b[1];\n\n            react_1.useEffect(function () {\n              updateRefCount++;\n              setRender({});\n              return function () {\n                delete updateRef[instanceCount.current];\n              };\n            }, []);\n            return react_1.default.createElement(XelemProvider, {\n              instanceCount: instanceCount\n            }, react_1.default.createElement(XarrowProvider, {\n              instanceCount: instanceCount\n            }, children));\n          };\n\n          exports.default = Xwrapper;\n          /***/\n        },\n\n        /***/\n        \"./src/constants.tsx\":\n        /*!***************************!*\\\n          !*** ./src/constants.tsx ***!\n          \\***************************/\n\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.cArrowShapes = exports.arrowShapes = exports.cSvgElems = exports.cPaths = exports.cAnchorEdge = void 0; // constants used for typescript and proptypes definitions\n\n          var react_1 = __importDefault(__webpack_require__(\n          /*! react */\n          \"react\"));\n\n          exports.cAnchorEdge = ['middle', 'left', 'right', 'top', 'bottom', 'auto'];\n          exports.cPaths = ['smooth', 'grid', 'straight'];\n          exports.cSvgElems = ['circle', 'ellipse', 'line', 'path', 'polygon', 'polyline', 'rect']; //default arrows svgs\n\n          exports.arrowShapes = {\n            arrow1: {\n              svgElem: react_1.default.createElement(\"path\", {\n                d: \"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z\"\n              }),\n              offsetForward: 0.25\n            },\n            heart: {\n              svgElem: react_1.default.createElement(\"path\", {\n                d: \"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z\"\n              }),\n              offsetForward: 0.1\n            },\n            circle: {\n              svgElem: react_1.default.createElement(\"circle\", {\n                r: 0.5,\n                cx: 0.5,\n                cy: 0.5\n              }),\n              offsetForward: 0\n            }\n          };\n          exports.cArrowShapes = Object.keys(exports.arrowShapes);\n          /***/\n        },\n\n        /***/\n        \"./src/index.tsx\":\n        /*!***********************!*\\\n          !*** ./src/index.tsx ***!\n          \\***********************/\n\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          var __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            Object.defineProperty(o, k2, {\n              enumerable: true,\n              get: function () {\n                return m[k];\n              }\n            });\n          } : function (o, m, k, k2) {\n            if (k2 === undefined) k2 = k;\n            o[k2] = m[k];\n          });\n\n          var __exportStar = this && this.__exportStar || function (m, exports) {\n            for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n          };\n\n          var __importDefault = this && this.__importDefault || function (mod) {\n            return mod && mod.__esModule ? mod : {\n              \"default\": mod\n            };\n          };\n\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          exports.useXarrow = exports.Xwrapper = exports.default = void 0;\n\n          var Xarrow_1 = __webpack_require__(\n          /*! ./Xarrow/Xarrow */\n          \"./src/Xarrow/Xarrow.tsx\");\n\n          Object.defineProperty(exports, \"default\", {\n            enumerable: true,\n            get: function () {\n              return __importDefault(Xarrow_1).default;\n            }\n          });\n\n          __exportStar(__webpack_require__(\n          /*! ./types */\n          \"./src/types.ts\"), exports);\n\n          __exportStar(__webpack_require__(\n          /*! ./constants */\n          \"./src/constants.tsx\"), exports);\n\n          var Xwrapper_1 = __webpack_require__(\n          /*! ./Xwrapper */\n          \"./src/Xwrapper.tsx\");\n\n          Object.defineProperty(exports, \"Xwrapper\", {\n            enumerable: true,\n            get: function () {\n              return __importDefault(Xwrapper_1).default;\n            }\n          });\n\n          var useXarrow_1 = __webpack_require__(\n          /*! ./useXarrow */\n          \"./src/useXarrow.tsx\");\n\n          Object.defineProperty(exports, \"useXarrow\", {\n            enumerable: true,\n            get: function () {\n              return __importDefault(useXarrow_1).default;\n            }\n          });\n          /***/\n        },\n\n        /***/\n        \"./src/types.ts\":\n        /*!**********************!*\\\n          !*** ./src/types.ts ***!\n          \\**********************/\n\n        /***/\n        function (__unused_webpack_module, exports) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n          /***/\n        },\n\n        /***/\n        \"./src/useXarrow.tsx\":\n        /*!***************************!*\\\n          !*** ./src/useXarrow.tsx ***!\n          \\***************************/\n\n        /***/\n        function (__unused_webpack_module, exports, __webpack_require__) {\n          Object.defineProperty(exports, \"__esModule\", {\n            value: true\n          });\n\n          var react_1 = __webpack_require__(\n          /*! react */\n          \"react\");\n\n          var Xwrapper_1 = __webpack_require__(\n          /*! ./Xwrapper */\n          \"./src/Xwrapper.tsx\");\n\n          var useXarrow = function () {\n            var _a = react_1.useState({}),\n                setRender = _a[1];\n\n            var reRender = function () {\n              return setRender({});\n            };\n\n            var updateXarrow = react_1.useContext(Xwrapper_1.XelemContext);\n            if (!updateXarrow) updateXarrow = function () {}; // throw new Error(\n            //   \"'Xwrapper' is required around element using 'useXarrow' hook! wrap your xarrows and connected elements with Xwrapper! \"\n            // );\n\n            react_1.useLayoutEffect(function () {\n              updateXarrow();\n            });\n            return reRender;\n          };\n\n          exports.default = useXarrow;\n          /***/\n        },\n\n        /***/\n        \"lodash\":\n        /*!*************************!*\\\n          !*** external \"lodash\" ***!\n          \\*************************/\n\n        /***/\n        function (module) {\n          module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;\n          /***/\n        },\n\n        /***/\n        \"prop-types\":\n        /*!*****************************!*\\\n          !*** external \"prop-types\" ***!\n          \\*****************************/\n\n        /***/\n        function (module) {\n          module.exports = __WEBPACK_EXTERNAL_MODULE_prop_types__;\n          /***/\n        },\n\n        /***/\n        \"react\":\n        /*!************************!*\\\n          !*** external \"react\" ***!\n          \\************************/\n\n        /***/\n        function (module) {\n          module.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n          /***/\n        }\n        /******/\n\n      };\n      /************************************************************************/\n\n      /******/\n      // The module cache\n\n      /******/\n\n      var __webpack_module_cache__ = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n        // Check if module is in cache\n\n        /******/\n        var cachedModule = __webpack_module_cache__[moduleId];\n        /******/\n\n        if (cachedModule !== undefined) {\n          /******/\n          return cachedModule.exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = __webpack_module_cache__[moduleId] = {\n          /******/\n          id: moduleId,\n\n          /******/\n          loaded: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        __webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n\n        module.loaded = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n\n      __webpack_require__.c = __webpack_module_cache__;\n      /******/\n\n      /************************************************************************/\n\n      /******/\n\n      /* webpack/runtime/define property getters */\n\n      /******/\n\n      !function () {\n        /******/\n        // define getter functions for harmony exports\n\n        /******/\n        __webpack_require__.d = function (exports, definition) {\n          /******/\n          for (var key in definition) {\n            /******/\n            if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n              /******/\n              Object.defineProperty(exports, key, {\n                enumerable: true,\n                get: definition[key]\n              });\n              /******/\n            }\n            /******/\n\n          }\n          /******/\n\n        };\n        /******/\n\n      }();\n      /******/\n\n      /******/\n\n      /* webpack/runtime/hasOwnProperty shorthand */\n\n      /******/\n\n      !function () {\n        /******/\n        __webpack_require__.o = function (obj, prop) {\n          return Object.prototype.hasOwnProperty.call(obj, prop);\n        };\n        /******/\n\n      }();\n      /******/\n\n      /******/\n\n      /* webpack/runtime/make namespace object */\n\n      /******/\n\n      !function () {\n        /******/\n        // define __esModule on exports\n\n        /******/\n        __webpack_require__.r = function (exports) {\n          /******/\n          if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n            /******/\n            Object.defineProperty(exports, Symbol.toStringTag, {\n              value: 'Module'\n            });\n            /******/\n          }\n          /******/\n\n\n          Object.defineProperty(exports, '__esModule', {\n            value: true\n          });\n          /******/\n        };\n        /******/\n\n      }();\n      /******/\n\n      /******/\n\n      /* webpack/runtime/node module decorator */\n\n      /******/\n\n      !function () {\n        /******/\n        __webpack_require__.nmd = function (module) {\n          /******/\n          module.paths = [];\n          /******/\n\n          if (!module.children) module.children = [];\n          /******/\n\n          return module;\n          /******/\n        };\n        /******/\n\n      }();\n      /******/\n\n      /************************************************************************/\n\n      /******/\n\n      /******/\n      // module cache are used so entry inlining is disabled\n\n      /******/\n      // startup\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      var __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n      /******/\n\n      /******/\n\n\n      return __webpack_exports__;\n      /******/\n    }()\n  );\n});","map":{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","__WEBPACK_EXTERNAL_MODULE_react__","__WEBPACK_EXTERNAL_MODULE_lodash__","__WEBPACK_EXTERNAL_MODULE_prop_types__","__webpack_modules__","__unused_webpack_module","__webpack_exports__","__webpack_require__","r","d","bzFunction","buzzierMinSols","p1","p2","p3","p4","t","Math","pow","bz","A","B","C","sol1","sqrt","sol2","__assign","Object","assign","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__spreadArray","to","from","il","j","__importDefault","react_1","useXarrowProps_1","Xwrapper_1","propTypes_1","GetPosition_1","log","console","Xarrow","props","_a","mainRef","useRef","svgRef","lineRef","headRef","tailRef","lineDrawAnimRef","lineDashAnimRef","headOpacityAnimRef","_b","current","useContext","XarrowContext","xProps","default","propsRefs","labels","lineColor","headColor","tailColor","strokeWidth","showHead","showTail","dashness","headShape","tailShape","showXarrow","animateDrawing","zIndex","passProps","arrowBodyProps","arrowHeadProps","arrowTailProps","SVGcanvasProps","divContainerProps","divContainerStyle","SVGcanvasStyle","_debug","shouldUpdatePosition","_c","useState","drawAnimEnded","setDrawAnimEnded","_d","setRender","forceRerender","_e","cx0","cy0","cw","ch","x1","y1","x2","y2","dx","dy","absDx","absDy","cpx1","cpy1","cpx2","cpy2","headOrient","tailOrient","arrowHeadOffset","x","y","arrowTailOffset","headOffset","excRight","excLeft","excUp","excDown","startPoints","endPoints","mainDivPos","xSign","ySign","lineLength","fHeadSize","fTailSize","arrowPath","labelStartPos","labelMiddlePos","labelEndPos","st","setSt","useLayoutEffect","pos","getPosition","xOffsetHead","yOffsetHead","xOffsetTail","yOffsetTail","dashoffset","strokeLen","nonStrokeLen","animDirection","animation","dashArray","animRepeatCount","animStartValue","animEndValue","prevSt","getTotalLength","useEffect","monitorDOMchanges","window","addEventListener","handleDrawAmimEnd","beginElement","handleDrawAmimBegin","style","opacity","removeEventListener","cleanMonitorDOMchanges","createElement","position","Fragment","ref","width","height","left","top","pointerEvents","border","overflow","stroke","strokeDasharray","fill","attributeName","values","dur","repeatCount","id","transform","svgElem","begin","cx","cy","start","middle","display","end","map","key","background","borderRadius","propTypes","nmd","calcAnchors","getAnchorsDefaultOffsets","right","bottom","anchors","anchorPos","anchor","defsOffsets","offset","c","prop_types_1","constants_1","pAnchorPositionType","oneOf","cAnchorEdge","pAnchorCustomPositionType","exact","isRequired","number","_pAnchorType","oneOfType","pAnchorType","arrayOf","pRefType","string","any","_pLabelType","element","pLabelsType","pSvgEdgeShapeType","keys","arrowShapes","pSvgElemType","pSvgEdgeType","offsetForward","XarrowPropTypes","startAnchor","endAnchor","color","bool","headSize","tailSize","path","cPaths","curveness","gridBreak","object","_extendSVGcanvas","_cpx1Offset","_cpy1Offset","_cpx2Offset","_cpy2Offset","utils_1","lodash_1","parseLabels","label","parsedLabel","isValidElement","parseAnchor","anchorChoice","Array","isArray","anchorChoice2","filter","an","includes","autosAncs","push","flatMap","anchorObj","anchorName","anchorChoice3","anchorChoiceCustom","parseDashness","dashStroke","dashNone","animDashSpeed","parseEdgeShape","svgEdge","warn","cArrowShapes","parseGridBreak","resGridBreak","xStr2absRelative","relative","abs","withUpdate","propVal","updateRef","noParse","userProp","noParseWithUpdatePos","_","updatePos","parseNumWithUpdatePos","Number","parseNum","parsePropsFuncs","getElementByPropGiven","propsDeps","propName","_i","parseGivenProps","propsRef","entries","name_1","val","defaultProps","initialParsedProps","initialValVars","startPos","endPos","deepCompareEquals","a","b","isEqual","useDeepCompareMemoize","useDeepCompareEffect","callback","dependencies","useXarrowProps","userProps","refs","setPropsRefs","curProps","_loop_1","name","valVars","setValVars","getElemPos","anchors_1","index_1","buzzier_1","_f","getShortestLine","chosenStart","chosenEnd","startAnchorPosition","endAnchorPosition","startPoint","pick","endPoint","getSvgPos","min","_g","tailOffset","xHeadOffset","yHeadOffset","xTailOffset","yTailOffset","_headOffset","_tailOffset","cu","biggerSide","_calc","headAngel","atan","cos","sin","PI","tailAngel","curvesPossibilities","hh","vv","hv","vh","selectedCurviness","replace","_h","xSol1","xSol2","_j","ySol1","ySol2","bzx","bzy","factorDpathStr","myRef","document","getElementById","factor","l","split","toString","join","str","sp","absLen","percentLen","parseFloat","isNaN","dist","sPoints","ePoints","minDist","Infinity","closestPair","forEach","ep","elem","getBoundingClientRect","xarrowElemX","xarrowElemY","xarrowStyle","getComputedStyle","xarrowStyleLeft","slice","xarrowStyleTop","XelemContext","createContext","updateRefCount","XarrowProvider","children","instanceCount","updateXarrow","Provider","XelemProvider","Xwrapper","cSvgElems","arrow1","heart","circle","__exportStar","useXarrow","Xarrow_1","useXarrow_1","reRender","__webpack_module_cache__","moduleId","cachedModule","loaded","definition","obj","prop","Symbol","toStringTag","paths"],"sources":["/Users/coltraneyan/repos/ethertree/node_modules/react-xarrows/lib/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"reactXarrow\", [\"react\", \"lodash\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"reactXarrow\"] = factory(require(\"react\"), require(\"lodash\"), require(\"prop-types\"));\n\telse\n\t\troot[\"reactXarrow\"] = factory(root[\"react\"], root[\"lodash\"], root[\"prop-types\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_lodash__, __WEBPACK_EXTERNAL_MODULE_prop_types__) {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./src/Xarrow/utils/buzzier.js\":\n/*!*************************************!*\\\n  !*** ./src/Xarrow/utils/buzzier.js ***!\n  \\*************************************/\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"bzFunction\": function() { return /* binding */ bzFunction; },\n/* harmony export */   \"buzzierMinSols\": function() { return /* binding */ buzzierMinSols; }\n/* harmony export */ });\n// Buzier curve calculations\n\n/**\r\n * returns buzzier curve function with 2 controls points\r\n * bzCurve with 2 control points function(4 points total):  bz = (1−t)^3*p1 + 3(1−t)^2*t*p2 +3(1−t)*t^2*p3 + t^3*p4\r\n */\nvar bzFunction = function bzFunction(p1, p2, p3, p4) {\n  return function (t) {\n    return Math.pow(1 - t, 3) * p1 + 3 * Math.pow(1 - t, 2) * t * p2 + 3 * (1 - t) * Math.pow(t, 2) * p3 + Math.pow(t, 3) * p4;\n  };\n};\n/**\r\n * returns 2 solutions from extram points for buzzier curve with 2 controls points\r\n */\n\nvar buzzierMinSols = function buzzierMinSols(p1, p2, p3, p4) {\n  var bz = bzFunction(p1, p2, p3, p4); // dt(bz) = -3 p1 (1 - t)^2 + 3 p2 (1 - t)^2 - 6 p2 (1 - t) t + 6 p3 (1 - t) t - 3 p3 t^2 + 3 p4 t^2\n  // when p1=(x1,y1),p2=(cpx1,cpy1),p3=(cpx2,cpy2),p4=(x2,y2)\n  // then extrema points is when dt(bz) = 0\n  // solutions =>  t = ((-6 p1 + 12 p2 - 6 p3) ± sqrt((6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)))/(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4))  when (p1 + 3 p3!=3 p2 + p4)\n  // if we mark A=(-6 p1 + 12 p2 - 6 p3) and B=(6 p1 - 12 p2 + 6 p3)^2 - 4 (3 p2 - 3 p1) (-3 p1 + 9 p2 - 9 p3 + 3 p4)) and C =(2 (-3 p1 + 9 p2 - 9 p3 + 3 p4) then\n  // tSol = A ± sqrt(B)\n  // then solution we want is: bz(tSol)\n\n  var A = -6 * p1 + 12 * p2 - 6 * p3;\n  var B = Math.pow(-6 * p1 + 12 * p2 - 6 * p3, 2) - 4 * (3 * p2 - 3 * p1) * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n  var C = 2 * (-3 * p1 + 9 * p2 - 9 * p3 + 3 * p4);\n  var sol1 = bz((A + Math.sqrt(B)) / C);\n  var sol2 = bz((A - Math.sqrt(B)) / C);\n  return [sol1, sol2];\n};\n\n/***/ }),\n\n/***/ \"./src/Xarrow/Xarrow.tsx\":\n/*!*******************************!*\\\n  !*** ./src/Xarrow/Xarrow.tsx ***!\n  \\*******************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\r\nvar useXarrowProps_1 = __importDefault(__webpack_require__(/*! ./useXarrowProps */ \"./src/Xarrow/useXarrowProps.ts\"));\r\nvar Xwrapper_1 = __webpack_require__(/*! ../Xwrapper */ \"./src/Xwrapper.tsx\");\r\nvar propTypes_1 = __importDefault(__webpack_require__(/*! ./propTypes */ \"./src/Xarrow/propTypes.ts\"));\r\nvar GetPosition_1 = __webpack_require__(/*! ./utils/GetPosition */ \"./src/Xarrow/utils/GetPosition.tsx\");\r\nvar log = console.log;\r\nvar Xarrow = function (props) {\r\n    // log('xarrow update');\r\n    var _a;\r\n    var mainRef = react_1.useRef({\r\n        svgRef: react_1.useRef(null),\r\n        lineRef: react_1.useRef(null),\r\n        headRef: react_1.useRef(null),\r\n        tailRef: react_1.useRef(null),\r\n        lineDrawAnimRef: react_1.useRef(null),\r\n        lineDashAnimRef: react_1.useRef(null),\r\n        headOpacityAnimRef: react_1.useRef(null),\r\n    });\r\n    var _b = mainRef.current, svgRef = _b.svgRef, lineRef = _b.lineRef, headRef = _b.headRef, tailRef = _b.tailRef, lineDrawAnimRef = _b.lineDrawAnimRef, lineDashAnimRef = _b.lineDashAnimRef, headOpacityAnimRef = _b.headOpacityAnimRef;\r\n    react_1.useContext(Xwrapper_1.XarrowContext);\r\n    var xProps = useXarrowProps_1.default(props, mainRef.current);\r\n    var propsRefs = xProps[0];\r\n    var labels = propsRefs.labels, lineColor = propsRefs.lineColor, headColor = propsRefs.headColor, tailColor = propsRefs.tailColor, strokeWidth = propsRefs.strokeWidth, showHead = propsRefs.showHead, showTail = propsRefs.showTail, dashness = propsRefs.dashness, headShape = propsRefs.headShape, tailShape = propsRefs.tailShape, showXarrow = propsRefs.showXarrow, animateDrawing = propsRefs.animateDrawing, zIndex = propsRefs.zIndex, passProps = propsRefs.passProps, arrowBodyProps = propsRefs.arrowBodyProps, arrowHeadProps = propsRefs.arrowHeadProps, arrowTailProps = propsRefs.arrowTailProps, SVGcanvasProps = propsRefs.SVGcanvasProps, divContainerProps = propsRefs.divContainerProps, divContainerStyle = propsRefs.divContainerStyle, SVGcanvasStyle = propsRefs.SVGcanvasStyle, _debug = propsRefs._debug, shouldUpdatePosition = propsRefs.shouldUpdatePosition;\r\n    animateDrawing = props.animateDrawing;\r\n    var _c = react_1.useState(!animateDrawing), drawAnimEnded = _c[0], setDrawAnimEnded = _c[1];\r\n    var _d = react_1.useState({}), setRender = _d[1];\r\n    var forceRerender = function () { return setRender({}); };\r\n    var _e = react_1.useState({\r\n        //initial state\r\n        cx0: 0,\r\n        cy0: 0,\r\n        cw: 0,\r\n        ch: 0,\r\n        x1: 0,\r\n        y1: 0,\r\n        x2: 0,\r\n        y2: 0,\r\n        dx: 0,\r\n        dy: 0,\r\n        absDx: 0,\r\n        absDy: 0,\r\n        cpx1: 0,\r\n        cpy1: 0,\r\n        cpx2: 0,\r\n        cpy2: 0,\r\n        headOrient: 0,\r\n        tailOrient: 0,\r\n        arrowHeadOffset: { x: 0, y: 0 },\r\n        arrowTailOffset: { x: 0, y: 0 },\r\n        headOffset: 0,\r\n        excRight: 0,\r\n        excLeft: 0,\r\n        excUp: 0,\r\n        excDown: 0,\r\n        startPoints: [],\r\n        endPoints: [],\r\n        mainDivPos: { x: 0, y: 0 },\r\n        xSign: 1,\r\n        ySign: 1,\r\n        lineLength: 0,\r\n        fHeadSize: 1,\r\n        fTailSize: 1,\r\n        arrowPath: \"\",\r\n        labelStartPos: { x: 0, y: 0 },\r\n        labelMiddlePos: { x: 0, y: 0 },\r\n        labelEndPos: { x: 0, y: 0 },\r\n    }), st = _e[0], setSt = _e[1];\r\n    /**\r\n     * The Main logic of path calculation for the arrow.\r\n     * calculate new path, adjusting canvas, and set state based on given properties.\r\n     * */\r\n    react_1.useLayoutEffect(function () {\r\n        if (shouldUpdatePosition.current) {\r\n            // log('xarrow getPosition');\r\n            var pos = GetPosition_1.getPosition(xProps, mainRef);\r\n            // log('pos', pos);\r\n            setSt(pos);\r\n            shouldUpdatePosition.current = false;\r\n        }\r\n    });\r\n    // log('st', st);\r\n    var xOffsetHead = st.x2 - st.arrowHeadOffset.x;\r\n    var yOffsetHead = st.y2 - st.arrowHeadOffset.y;\r\n    var xOffsetTail = st.x1 - st.arrowTailOffset.x;\r\n    var yOffsetTail = st.y1 - st.arrowTailOffset.y;\r\n    var dashoffset = dashness.strokeLen + dashness.nonStrokeLen;\r\n    var animDirection = 1;\r\n    if (dashness.animation < 0) {\r\n        dashness.animation *= -1;\r\n        animDirection = -1;\r\n    }\r\n    var dashArray, animation, animRepeatCount, animStartValue, animEndValue = 0;\r\n    if (animateDrawing && drawAnimEnded == false) {\r\n        if (typeof animateDrawing === 'boolean')\r\n            animateDrawing = 1;\r\n        animation = animateDrawing + 's';\r\n        dashArray = st.lineLength;\r\n        animStartValue = st.lineLength;\r\n        animRepeatCount = 1;\r\n        if (animateDrawing < 0) {\r\n            _a = [animEndValue, animStartValue], animStartValue = _a[0], animEndValue = _a[1];\r\n            animation = animateDrawing * -1 + 's';\r\n        }\r\n    }\r\n    else {\r\n        dashArray = dashness.strokeLen + \" \" + dashness.nonStrokeLen;\r\n        animation = 1 / dashness.animation + \"s\";\r\n        animStartValue = dashoffset * animDirection;\r\n        animRepeatCount = 'indefinite';\r\n        animEndValue = 0;\r\n    }\r\n    // handle draw animation\r\n    react_1.useLayoutEffect(function () {\r\n        if (lineRef.current)\r\n            setSt(function (prevSt) { var _a, _b; return (__assign(__assign({}, prevSt), { lineLength: (_b = (_a = lineRef.current) === null || _a === void 0 ? void 0 : _a.getTotalLength()) !== null && _b !== void 0 ? _b : 0 })); });\r\n    }, [lineRef.current]);\r\n    // set all props on first render\r\n    react_1.useEffect(function () {\r\n        var monitorDOMchanges = function () {\r\n            window.addEventListener('resize', forceRerender);\r\n            var handleDrawAmimEnd = function () {\r\n                var _a, _b;\r\n                setDrawAnimEnded(true);\r\n                // @ts-ignore\r\n                (_a = headOpacityAnimRef.current) === null || _a === void 0 ? void 0 : _a.beginElement();\r\n                // @ts-ignore\r\n                (_b = lineDashAnimRef.current) === null || _b === void 0 ? void 0 : _b.beginElement();\r\n            };\r\n            var handleDrawAmimBegin = function () { return (headRef.current.style.opacity = '0'); };\r\n            if (lineDrawAnimRef.current && headRef.current) {\r\n                lineDrawAnimRef.current.addEventListener('endEvent', handleDrawAmimEnd);\r\n                lineDrawAnimRef.current.addEventListener('beginEvent', handleDrawAmimBegin);\r\n            }\r\n            return function () {\r\n                window.removeEventListener('resize', forceRerender);\r\n                if (lineDrawAnimRef.current) {\r\n                    lineDrawAnimRef.current.removeEventListener('endEvent', handleDrawAmimEnd);\r\n                    if (headRef.current)\r\n                        lineDrawAnimRef.current.removeEventListener('beginEvent', handleDrawAmimBegin);\r\n                }\r\n            };\r\n        };\r\n        var cleanMonitorDOMchanges = monitorDOMchanges();\r\n        return function () {\r\n            setDrawAnimEnded(false);\r\n            cleanMonitorDOMchanges();\r\n        };\r\n    }, [showXarrow]);\r\n    //todo: could make some advanced generic typescript inferring. for example get type from headShape.elem:T and\r\n    // tailShape.elem:K force the type for passProps,arrowHeadProps,arrowTailProps property. for now `as any` is used to\r\n    // avoid typescript conflicts\r\n    // so todo- fix all the `passProps as any` assertions\r\n    return (react_1.default.createElement(\"div\", __assign({}, divContainerProps, { style: __assign({ position: 'absolute', zIndex: zIndex }, divContainerStyle) }), showXarrow ? (react_1.default.createElement(react_1.default.Fragment, null,\r\n        react_1.default.createElement(\"svg\", __assign({ ref: svgRef, width: st.cw, height: st.ch, style: __assign({ position: 'absolute', left: st.cx0, top: st.cy0, pointerEvents: 'none', border: _debug ? '1px dashed yellow' : null }, SVGcanvasStyle), overflow: \"auto\" }, SVGcanvasProps),\r\n            react_1.default.createElement(\"path\", __assign({ ref: lineRef, d: st.arrowPath, stroke: lineColor, strokeDasharray: dashArray, \r\n                // strokeDasharray={'0 0'}\r\n                strokeWidth: strokeWidth, fill: \"transparent\", pointerEvents: \"visibleStroke\" }, passProps, arrowBodyProps),\r\n                react_1.default.createElement(react_1.default.Fragment, null, drawAnimEnded ? (react_1.default.createElement(react_1.default.Fragment, null, dashness.animation ? (react_1.default.createElement(\"animate\", { ref: lineDashAnimRef, attributeName: \"stroke-dashoffset\", values: dashoffset * animDirection + \";0\", dur: 1 / dashness.animation + \"s\", repeatCount: \"indefinite\" })) : null)) : (react_1.default.createElement(react_1.default.Fragment, null, animateDrawing ? (react_1.default.createElement(\"animate\", { ref: lineDrawAnimRef, id: \"svgEndAnimate\", attributeName: \"stroke-dashoffset\", values: animStartValue + \";\" + animEndValue, dur: animation, repeatCount: animRepeatCount })) : null)))),\r\n            showTail ? (react_1.default.createElement(\"g\", __assign({ fill: tailColor, pointerEvents: \"auto\", transform: \"translate(\" + xOffsetTail + \",\" + yOffsetTail + \") rotate(\" + st.tailOrient + \") scale(\" + st.fTailSize + \")\" }, passProps, arrowTailProps), tailShape.svgElem)) : null,\r\n            showHead ? (react_1.default.createElement(\"g\", __assign({ ref: headRef, \r\n                // d={normalArrowShape}\r\n                fill: headColor, pointerEvents: \"auto\", transform: \"translate(\" + xOffsetHead + \",\" + yOffsetHead + \") rotate(\" + st.headOrient + \") scale(\" + st.fHeadSize + \")\", opacity: animateDrawing && !drawAnimEnded ? 0 : 1 }, passProps, arrowHeadProps),\r\n                react_1.default.createElement(\"animate\", { ref: headOpacityAnimRef, dur: '0.4', attributeName: \"opacity\", from: \"0\", to: \"1\", begin: \"indefinite\", repeatCount: \"0\", fill: \"freeze\" }),\r\n                headShape.svgElem)) : null,\r\n            _debug ? (react_1.default.createElement(react_1.default.Fragment, null,\r\n                react_1.default.createElement(\"circle\", { r: \"5\", cx: st.cpx1, cy: st.cpy1, fill: \"green\" }),\r\n                react_1.default.createElement(\"circle\", { r: \"5\", cx: st.cpx2, cy: st.cpy2, fill: \"blue\" }),\r\n                react_1.default.createElement(\"rect\", { x: st.excLeft, y: st.excUp, width: st.absDx, height: st.absDy, fill: \"none\", stroke: \"pink\", strokeWidth: \"2px\" }))) : null),\r\n        labels.start ? (react_1.default.createElement(\"div\", { style: {\r\n                transform: st.dx < 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\r\n                width: 'max-content',\r\n                position: 'absolute',\r\n                left: st.cx0 + st.labelStartPos.x,\r\n                top: st.cy0 + st.labelStartPos.y - strokeWidth - 5,\r\n            } }, labels.start)) : null,\r\n        labels.middle ? (react_1.default.createElement(\"div\", { style: {\r\n                display: 'table',\r\n                width: 'max-content',\r\n                transform: 'translate(-50% , -50%)',\r\n                position: 'absolute',\r\n                left: st.cx0 + st.labelMiddlePos.x,\r\n                top: st.cy0 + st.labelMiddlePos.y,\r\n            } }, labels.middle)) : null,\r\n        labels.end ? (react_1.default.createElement(\"div\", { style: {\r\n                transform: st.dx > 0 ? 'translate(-100% , -50%)' : 'translate(-0% , -50%)',\r\n                width: 'max-content',\r\n                position: 'absolute',\r\n                left: st.cx0 + st.labelEndPos.x,\r\n                top: st.cy0 + st.labelEndPos.y + strokeWidth + 5,\r\n            } }, labels.end)) : null,\r\n        _debug ? (react_1.default.createElement(react_1.default.Fragment, null, __spreadArray(__spreadArray([], st.startPoints), st.endPoints).map(function (p, i) {\r\n            return (react_1.default.createElement(\"div\", { key: i, style: {\r\n                    background: 'gray',\r\n                    opacity: 0.5,\r\n                    borderRadius: '50%',\r\n                    transform: 'translate(-50%, -50%)',\r\n                    height: 5,\r\n                    width: 5,\r\n                    position: 'absolute',\r\n                    left: p.x - st.mainDivPos.x,\r\n                    top: p.y - st.mainDivPos.y,\r\n                } }));\r\n        }))) : null)) : null));\r\n};\r\n//////////////////////////////\r\n// propTypes\r\nXarrow.propTypes = propTypes_1.default;\r\nexports.default = Xarrow;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/anchors.ts\":\n/*!*******************************!*\\\n  !*** ./src/Xarrow/anchors.ts ***!\n  \\*******************************/\n/***/ (function(module, exports, __webpack_require__) {\n\n/* module decorator */ module = __webpack_require__.nmd(module);\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.calcAnchors = void 0;\r\nvar getAnchorsDefaultOffsets = function (width, height) {\r\n    return {\r\n        middle: { x: width * 0.5, y: height * 0.5 },\r\n        left: { x: 0, y: height * 0.5 },\r\n        right: { x: width, y: height * 0.5 },\r\n        top: { x: width * 0.5, y: 0 },\r\n        bottom: { x: width * 0.5, y: height },\r\n    };\r\n};\r\nvar calcAnchors = function (anchors, anchorPos) {\r\n    // now prepare this list of anchors to object expected by the `getShortestLine` function\r\n    return anchors.map(function (anchor) {\r\n        var defsOffsets = getAnchorsDefaultOffsets(anchorPos.right - anchorPos.x, anchorPos.bottom - anchorPos.y);\r\n        var _a = defsOffsets[anchor.position], x = _a.x, y = _a.y;\r\n        return {\r\n            x: anchorPos.x + x + anchor.offset.x,\r\n            y: anchorPos.y + y + anchor.offset.y,\r\n            anchor: anchor,\r\n        };\r\n    });\r\n};\r\nexports.calcAnchors = calcAnchors;\r\nif (__webpack_require__.c[__webpack_require__.s] === module) {\r\n    // const res = parseAnchor(['auto'], {\r\n    //   x: 0,\r\n    //   y: 0,\r\n    //   bottom: 10,\r\n    //   right: 20,\r\n    // });\r\n    // console.log(res);\r\n}\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/propTypes.ts\":\n/*!*********************************!*\\\n  !*** ./src/Xarrow/propTypes.ts ***!\n  \\*********************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar prop_types_1 = __importDefault(__webpack_require__(/*! prop-types */ \"prop-types\"));\r\nvar constants_1 = __webpack_require__(/*! ../constants */ \"./src/constants.tsx\");\r\nvar pAnchorPositionType = prop_types_1.default.oneOf(constants_1.cAnchorEdge);\r\nvar pAnchorCustomPositionType = prop_types_1.default.exact({\r\n    position: pAnchorPositionType.isRequired,\r\n    offset: prop_types_1.default.exact({\r\n        x: prop_types_1.default.number,\r\n        y: prop_types_1.default.number,\r\n    }).isRequired,\r\n});\r\nvar _pAnchorType = prop_types_1.default.oneOfType([pAnchorPositionType, pAnchorCustomPositionType]);\r\nvar pAnchorType = prop_types_1.default.oneOfType([_pAnchorType, prop_types_1.default.arrayOf(_pAnchorType)]);\r\nvar pRefType = prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.exact({ current: prop_types_1.default.any })]);\r\nvar _pLabelType = prop_types_1.default.oneOfType([prop_types_1.default.element, prop_types_1.default.string]);\r\nvar pLabelsType = prop_types_1.default.exact({\r\n    start: _pLabelType,\r\n    middle: _pLabelType,\r\n    end: _pLabelType,\r\n});\r\nvar pSvgEdgeShapeType = prop_types_1.default.oneOf(Object.keys(constants_1.arrowShapes));\r\n// const pSvgElemType = PT.oneOf(cSvgElems);\r\nvar pSvgElemType = prop_types_1.default.any;\r\nvar pSvgEdgeType = prop_types_1.default.oneOfType([\r\n    pSvgEdgeShapeType,\r\n    prop_types_1.default.exact({\r\n        svgElem: pSvgElemType,\r\n        offsetForward: prop_types_1.default.number,\r\n    }).isRequired,\r\n]);\r\nvar XarrowPropTypes = {\r\n    start: pRefType.isRequired,\r\n    end: pRefType.isRequired,\r\n    startAnchor: pAnchorType,\r\n    endAnchor: pAnchorType,\r\n    labels: prop_types_1.default.oneOfType([_pLabelType, pLabelsType]),\r\n    color: prop_types_1.default.string,\r\n    lineColor: prop_types_1.default.string,\r\n    showHead: prop_types_1.default.bool,\r\n    headColor: prop_types_1.default.string,\r\n    headSize: prop_types_1.default.number,\r\n    tailSize: prop_types_1.default.number,\r\n    tailColor: prop_types_1.default.string,\r\n    strokeWidth: prop_types_1.default.number,\r\n    showTail: prop_types_1.default.bool,\r\n    path: prop_types_1.default.oneOf(constants_1.cPaths),\r\n    showXarrow: prop_types_1.default.bool,\r\n    curveness: prop_types_1.default.number,\r\n    gridBreak: prop_types_1.default.string,\r\n    dashness: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.object]),\r\n    headShape: pSvgEdgeType,\r\n    tailShape: pSvgEdgeType,\r\n    animateDrawing: prop_types_1.default.oneOfType([prop_types_1.default.bool, prop_types_1.default.number]),\r\n    zIndex: prop_types_1.default.number,\r\n    passProps: prop_types_1.default.object,\r\n    arrowBodyProps: prop_types_1.default.object,\r\n    arrowHeadProps: prop_types_1.default.object,\r\n    arrowTailProps: prop_types_1.default.object,\r\n    SVGcanvasProps: prop_types_1.default.object,\r\n    divContainerProps: prop_types_1.default.object,\r\n    _extendSVGcanvas: prop_types_1.default.number,\r\n    _debug: prop_types_1.default.bool,\r\n    _cpx1Offset: prop_types_1.default.number,\r\n    _cpy1Offset: prop_types_1.default.number,\r\n    _cpx2Offset: prop_types_1.default.number,\r\n    _cpy2Offset: prop_types_1.default.number,\r\n};\r\nexports.default = XarrowPropTypes;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/useXarrowProps.ts\":\n/*!**************************************!*\\\n  !*** ./src/Xarrow/useXarrowProps.ts ***!\n  \\**************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\r\nvar utils_1 = __webpack_require__(/*! ./utils */ \"./src/Xarrow/utils/index.ts\");\r\nvar lodash_1 = __importDefault(__webpack_require__(/*! lodash */ \"lodash\"));\r\nvar constants_1 = __webpack_require__(/*! ../constants */ \"./src/constants.tsx\");\r\nvar parseLabels = function (label) {\r\n    var parsedLabel = { start: null, middle: null, end: null };\r\n    if (label) {\r\n        if (typeof label === 'string' || react_1.default.isValidElement(label))\r\n            parsedLabel.middle = label;\r\n        else {\r\n            for (var key in label) {\r\n                parsedLabel[key] = label[key];\r\n            }\r\n        }\r\n    }\r\n    return parsedLabel;\r\n};\r\nvar parseAnchor = function (anchor) {\r\n    // convert to array\r\n    var anchorChoice = Array.isArray(anchor) ? anchor : [anchor];\r\n    //convert to array of objects\r\n    var anchorChoice2 = anchorChoice.map(function (anchorChoice) {\r\n        if (typeof anchorChoice === 'string') {\r\n            return { position: anchorChoice };\r\n        }\r\n        else\r\n            return anchorChoice;\r\n    });\r\n    //remove any invalid anchor names\r\n    anchorChoice2 = anchorChoice2.filter(function (an) { return constants_1.cAnchorEdge.includes(an.position); });\r\n    if (anchorChoice2.length == 0)\r\n        anchorChoice2 = [{ position: 'auto' }];\r\n    //replace any 'auto' with ['left','right','bottom','top']\r\n    var autosAncs = anchorChoice2.filter(function (an) { return an.position === 'auto'; });\r\n    if (autosAncs.length > 0) {\r\n        anchorChoice2 = anchorChoice2.filter(function (an) { return an.position !== 'auto'; });\r\n        anchorChoice2.push.apply(anchorChoice2, autosAncs.flatMap(function (anchorObj) {\r\n            return ['left', 'right', 'top', 'bottom'].map(function (anchorName) {\r\n                return __assign(__assign({}, anchorObj), { position: anchorName });\r\n            });\r\n        }));\r\n    }\r\n    // default values\r\n    var anchorChoice3 = anchorChoice2.map(function (anchorChoice) {\r\n        if (typeof anchorChoice === 'object') {\r\n            var anchorChoiceCustom = anchorChoice;\r\n            if (!anchorChoiceCustom.position)\r\n                anchorChoiceCustom.position = 'auto';\r\n            if (!anchorChoiceCustom.offset)\r\n                anchorChoiceCustom.offset = { x: 0, y: 0 };\r\n            if (!anchorChoiceCustom.offset.y)\r\n                anchorChoiceCustom.offset.y = 0;\r\n            if (!anchorChoiceCustom.offset.x)\r\n                anchorChoiceCustom.offset.x = 0;\r\n            anchorChoiceCustom = anchorChoiceCustom;\r\n            return anchorChoiceCustom;\r\n        }\r\n        else\r\n            return anchorChoice;\r\n    });\r\n    return anchorChoice3;\r\n};\r\nvar parseDashness = function (dashness, props) {\r\n    var dashStroke = 0, dashNone = 0, animDashSpeed, animDirection = 1;\r\n    if (typeof dashness === 'object') {\r\n        dashStroke = dashness.strokeLen || props.strokeWidth * 2;\r\n        dashNone = dashness.strokeLen ? dashness.nonStrokeLen : props.strokeWidth;\r\n        animDashSpeed = dashness.animation ? dashness.animation : null;\r\n    }\r\n    else if (typeof dashness === 'boolean' && dashness) {\r\n        dashStroke = props.strokeWidth * 2;\r\n        dashNone = props.strokeWidth;\r\n        animDashSpeed = null;\r\n    }\r\n    return { strokeLen: dashStroke, nonStrokeLen: dashNone, animation: animDashSpeed, animDirection: animDirection };\r\n};\r\nvar parseEdgeShape = function (svgEdge) {\r\n    if (typeof svgEdge == 'string') {\r\n        if (svgEdge in constants_1.arrowShapes)\r\n            svgEdge = constants_1.arrowShapes[svgEdge];\r\n        else {\r\n            console.warn(\"'\" + svgEdge + \"' is not supported arrow shape. the supported arrow shapes is one of \" + constants_1.cArrowShapes + \".\\n           reverting to default shape.\");\r\n            svgEdge = constants_1.arrowShapes['arrow1'];\r\n        }\r\n    }\r\n    svgEdge = svgEdge;\r\n    if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.offsetForward) === undefined)\r\n        svgEdge.offsetForward = 0.25;\r\n    if ((svgEdge === null || svgEdge === void 0 ? void 0 : svgEdge.svgElem) === undefined)\r\n        svgEdge.svgElem = 'path';\r\n    // if (svgEdge?.svgProps === undefined) svgEdge.svgProps = arrowShapes.arrow1.svgProps;\r\n    return svgEdge;\r\n};\r\nvar parseGridBreak = function (gridBreak) {\r\n    var resGridBreak = utils_1.xStr2absRelative(gridBreak);\r\n    if (!resGridBreak)\r\n        resGridBreak = { relative: 0.5, abs: 0 };\r\n    return resGridBreak;\r\n};\r\n/**\r\n * should be wrapped with any changed prop that is affecting the points path positioning\r\n * @param propVal\r\n * @param updateRef\r\n */\r\nvar withUpdate = function (propVal, updateRef) {\r\n    if (updateRef)\r\n        updateRef.current = true;\r\n    return propVal;\r\n};\r\nvar noParse = function (userProp) { return userProp; };\r\nvar noParseWithUpdatePos = function (userProp, _, updatePos) { return withUpdate(userProp, updatePos); };\r\nvar parseNumWithUpdatePos = function (userProp, _, updatePos) { return withUpdate(Number(userProp), updatePos); };\r\nvar parseNum = function (userProp) { return Number(userProp); };\r\nvar parsePropsFuncs = {\r\n    start: function (userProp) { return utils_1.getElementByPropGiven(userProp); },\r\n    end: function (userProp) { return utils_1.getElementByPropGiven(userProp); },\r\n    startAnchor: function (userProp, _, updatePos) { return withUpdate(parseAnchor(userProp), updatePos); },\r\n    endAnchor: function (userProp, _, updatePos) { return withUpdate(parseAnchor(userProp), updatePos); },\r\n    labels: function (userProp) { return parseLabels(userProp); },\r\n    color: noParse,\r\n    lineColor: function (userProp, propsRefs) { return userProp || propsRefs.color; },\r\n    headColor: function (userProp, propsRefs) { return userProp || propsRefs.color; },\r\n    tailColor: function (userProp, propsRefs) { return userProp || propsRefs.color; },\r\n    strokeWidth: parseNumWithUpdatePos,\r\n    showHead: noParseWithUpdatePos,\r\n    headSize: parseNumWithUpdatePos,\r\n    showTail: noParseWithUpdatePos,\r\n    tailSize: parseNumWithUpdatePos,\r\n    path: noParseWithUpdatePos,\r\n    curveness: parseNumWithUpdatePos,\r\n    gridBreak: function (userProp, _, updatePos) { return withUpdate(parseGridBreak(userProp), updatePos); },\r\n    // // gridRadius = strokeWidth * 2, //todo\r\n    dashness: function (userProp, propsRefs) { return parseDashness(userProp, propsRefs); },\r\n    headShape: function (userProp) { return parseEdgeShape(userProp); },\r\n    tailShape: function (userProp) { return parseEdgeShape(userProp); },\r\n    showXarrow: noParse,\r\n    animateDrawing: noParse,\r\n    zIndex: parseNum,\r\n    passProps: noParse,\r\n    arrowBodyProps: noParseWithUpdatePos,\r\n    arrowHeadProps: noParseWithUpdatePos,\r\n    arrowTailProps: noParseWithUpdatePos,\r\n    SVGcanvasProps: noParseWithUpdatePos,\r\n    divContainerProps: noParseWithUpdatePos,\r\n    divContainerStyle: noParseWithUpdatePos,\r\n    SVGcanvasStyle: noParseWithUpdatePos,\r\n    _extendSVGcanvas: noParseWithUpdatePos,\r\n    _debug: noParseWithUpdatePos,\r\n    _cpx1Offset: noParseWithUpdatePos,\r\n    _cpy1Offset: noParseWithUpdatePos,\r\n    _cpx2Offset: noParseWithUpdatePos,\r\n    _cpy2Offset: noParseWithUpdatePos,\r\n};\r\n//build dependencies\r\nvar propsDeps = {};\r\n//each prop depends on himself\r\nfor (var propName in parsePropsFuncs) {\r\n    propsDeps[propName] = [propName];\r\n}\r\n// 'lineColor', 'headColor', 'tailColor' props also depends on 'color' prop\r\nfor (var _i = 0, _a = ['lineColor', 'headColor', 'tailColor']; _i < _a.length; _i++) {\r\n    var propName = _a[_i];\r\n    propsDeps[propName].push('color');\r\n}\r\nvar parseGivenProps = function (props, propsRef) {\r\n    var _a;\r\n    for (var _i = 0, _b = Object.entries(props); _i < _b.length; _i++) {\r\n        var _c = _b[_i], name_1 = _c[0], val = _c[1];\r\n        propsRef[name_1] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[name_1]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, val, propsRef);\r\n    }\r\n    return propsRef;\r\n};\r\nvar defaultProps = {\r\n    start: null,\r\n    end: null,\r\n    startAnchor: 'auto',\r\n    endAnchor: 'auto',\r\n    labels: null,\r\n    color: 'CornflowerBlue',\r\n    lineColor: null,\r\n    headColor: null,\r\n    tailColor: null,\r\n    strokeWidth: 4,\r\n    showHead: true,\r\n    headSize: 6,\r\n    showTail: false,\r\n    tailSize: 6,\r\n    path: 'smooth',\r\n    curveness: 0.8,\r\n    gridBreak: '50%',\r\n    // gridRadius : strokeWidth * 2, //todo\r\n    dashness: false,\r\n    headShape: 'arrow1',\r\n    tailShape: 'arrow1',\r\n    showXarrow: true,\r\n    animateDrawing: false,\r\n    zIndex: 0,\r\n    passProps: {},\r\n    arrowBodyProps: {},\r\n    arrowHeadProps: {},\r\n    arrowTailProps: {},\r\n    SVGcanvasProps: {},\r\n    divContainerProps: {},\r\n    divContainerStyle: {},\r\n    SVGcanvasStyle: {},\r\n    _extendSVGcanvas: 0,\r\n    _debug: false,\r\n    _cpx1Offset: 0,\r\n    _cpy1Offset: 0,\r\n    _cpx2Offset: 0,\r\n    _cpy2Offset: 0,\r\n};\r\nvar initialParsedProps = {};\r\ninitialParsedProps = parseGivenProps(defaultProps, initialParsedProps);\r\nvar initialValVars = {\r\n    startPos: { x: 0, y: 0, right: 0, bottom: 0 },\r\n    endPos: { x: 0, y: 0, right: 0, bottom: 0 },\r\n};\r\n// const parseAllProps = () => parseGivenProps(defaultProps, initialParsedProps);\r\nfunction deepCompareEquals(a, b) {\r\n    return lodash_1.default.isEqual(a, b);\r\n}\r\nfunction useDeepCompareMemoize(value) {\r\n    var ref = react_1.useRef();\r\n    // it can be done by using useMemo as well\r\n    // but useRef is rather cleaner and easier\r\n    if (!deepCompareEquals(value, ref.current)) {\r\n        ref.current = value;\r\n    }\r\n    return ref.current;\r\n}\r\nfunction useDeepCompareEffect(callback, dependencies) {\r\n    react_1.useLayoutEffect(callback, dependencies.map(useDeepCompareMemoize));\r\n}\r\n/**\r\n * smart hook that provides parsed props to Xarrow and will trigger rerender whenever given prop is changed.\r\n */\r\nvar useXarrowProps = function (userProps, refs) {\r\n    var _a = react_1.useState(initialParsedProps), propsRefs = _a[0], setPropsRefs = _a[1];\r\n    var shouldUpdatePosition = react_1.useRef(false);\r\n    // const _propsRefs = useRef(initialParsedProps);\r\n    // const propsRefs = _propsRefs.current;\r\n    propsRefs['shouldUpdatePosition'] = shouldUpdatePosition;\r\n    var curProps = __assign(__assign({}, defaultProps), userProps);\r\n    var _loop_1 = function (propName) {\r\n        react_1.useLayoutEffect(function () {\r\n            var _a;\r\n            propsRefs[propName] = (_a = parsePropsFuncs === null || parsePropsFuncs === void 0 ? void 0 : parsePropsFuncs[propName]) === null || _a === void 0 ? void 0 : _a.call(parsePropsFuncs, curProps[propName], propsRefs, shouldUpdatePosition);\r\n            // console.log('prop update:', propName, 'with value', propsRefs[propName]);\r\n            setPropsRefs(__assign({}, propsRefs));\r\n        }, propsDeps[propName].map(function (name) { return userProps[name]; }));\r\n    };\r\n    // react states the number of hooks per render must stay constant,\r\n    // this is ok we are using these hooks in a loop, because the number of props in defaultProps is constant,\r\n    // so the number of hook we will fire each render will always be the same.\r\n    // update the value of the ref that represents the corresponding prop\r\n    // for example: if given 'start' prop would change call getElementByPropGiven(props.start) and save value into propsRefs.start.current\r\n    // why to save refs to props parsed values? some of the props require relatively expensive computations(like 'start' and 'startAnchor').\r\n    // this will always run in the same order and THAT'S WAY ITS LEGAL\r\n    for (var propName in defaultProps) {\r\n        _loop_1(propName);\r\n    }\r\n    // rerender whenever position of start element or end element changes\r\n    var _b = react_1.useState(initialValVars), valVars = _b[0], setValVars = _b[1];\r\n    var startPos = utils_1.getElemPos(propsRefs.start);\r\n    useDeepCompareEffect(function () {\r\n        valVars.startPos = startPos;\r\n        shouldUpdatePosition.current = true;\r\n        setValVars(__assign({}, valVars));\r\n        // console.log('start update pos', startPos);\r\n    }, [startPos]);\r\n    var endPos = utils_1.getElemPos(propsRefs.end);\r\n    useDeepCompareEffect(function () {\r\n        valVars.endPos = endPos;\r\n        shouldUpdatePosition.current = true;\r\n        setValVars(__assign({}, valVars));\r\n        // console.log('end update pos', endPos);\r\n    }, [endPos]);\r\n    react_1.useLayoutEffect(function () {\r\n        // console.log('svg shape changed!');\r\n        shouldUpdatePosition.current = true;\r\n        setValVars(__assign({}, valVars));\r\n    }, [propsRefs.headShape.svgElem, propsRefs.tailShape.svgElem]);\r\n    return [propsRefs, valVars];\r\n};\r\nexports.default = useXarrowProps;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/utils/GetPosition.tsx\":\n/*!******************************************!*\\\n  !*** ./src/Xarrow/utils/GetPosition.tsx ***!\n  \\******************************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.getPosition = void 0;\r\nvar anchors_1 = __webpack_require__(/*! ../anchors */ \"./src/Xarrow/anchors.ts\");\r\nvar index_1 = __webpack_require__(/*! ./index */ \"./src/Xarrow/utils/index.ts\");\r\nvar lodash_1 = __importDefault(__webpack_require__(/*! lodash */ \"lodash\"));\r\nvar constants_1 = __webpack_require__(/*! ../../constants */ \"./src/constants.tsx\");\r\nvar buzzier_1 = __webpack_require__(/*! ./buzzier */ \"./src/Xarrow/utils/buzzier.js\");\r\n/**\r\n * The Main logic of path calculation for the arrow.\r\n * calculate new path, adjusting canvas, and set state based on given properties.\r\n * */\r\nvar getPosition = function (xProps, mainRef) {\r\n    var _a, _b;\r\n    var _c, _d;\r\n    var propsRefs = xProps[0], valVars = xProps[1];\r\n    var startAnchor = propsRefs.startAnchor, endAnchor = propsRefs.endAnchor, strokeWidth = propsRefs.strokeWidth, showHead = propsRefs.showHead, headSize = propsRefs.headSize, showTail = propsRefs.showTail, tailSize = propsRefs.tailSize, path = propsRefs.path, curveness = propsRefs.curveness, gridBreak = propsRefs.gridBreak, headShape = propsRefs.headShape, tailShape = propsRefs.tailShape, _extendSVGcanvas = propsRefs._extendSVGcanvas, _cpx1Offset = propsRefs._cpx1Offset, _cpy1Offset = propsRefs._cpy1Offset, _cpx2Offset = propsRefs._cpx2Offset, _cpy2Offset = propsRefs._cpy2Offset;\r\n    var startPos = valVars.startPos, endPos = valVars.endPos;\r\n    var _e = mainRef.current, svgRef = _e.svgRef, lineRef = _e.lineRef;\r\n    var headOrient = 0;\r\n    var tailOrient = 0;\r\n    // convert startAnchor and endAnchor to list of objects represents allowed anchors.\r\n    var startPoints = anchors_1.calcAnchors(startAnchor, startPos);\r\n    var endPoints = anchors_1.calcAnchors(endAnchor, endPos);\r\n    // choose the smallest path for 2 points from these possibilities.\r\n    var _f = index_1.getShortestLine(startPoints, endPoints), chosenStart = _f.chosenStart, chosenEnd = _f.chosenEnd;\r\n    var startAnchorPosition = chosenStart.anchor.position, endAnchorPosition = chosenEnd.anchor.position;\r\n    var startPoint = lodash_1.default.pick(chosenStart, ['x', 'y']), endPoint = lodash_1.default.pick(chosenEnd, ['x', 'y']);\r\n    var mainDivPos = index_1.getSvgPos(svgRef);\r\n    var cx0 = Math.min(startPoint.x, endPoint.x) - mainDivPos.x;\r\n    var cy0 = Math.min(startPoint.y, endPoint.y) - mainDivPos.y;\r\n    var dx = endPoint.x - startPoint.x;\r\n    var dy = endPoint.y - startPoint.y;\r\n    var absDx = Math.abs(endPoint.x - startPoint.x);\r\n    var absDy = Math.abs(endPoint.y - startPoint.y);\r\n    var xSign = dx > 0 ? 1 : -1;\r\n    var ySign = dy > 0 ? 1 : -1;\r\n    var _g = [headShape.offsetForward, tailShape.offsetForward], headOffset = _g[0], tailOffset = _g[1];\r\n    var fHeadSize = headSize * strokeWidth; //factored head size\r\n    var fTailSize = tailSize * strokeWidth; //factored head size\r\n    // const { current: _headBox } = headBox;\r\n    var xHeadOffset = 0;\r\n    var yHeadOffset = 0;\r\n    var xTailOffset = 0;\r\n    var yTailOffset = 0;\r\n    var _headOffset = fHeadSize * headOffset;\r\n    var _tailOffset = fTailSize * tailOffset;\r\n    var cu = Number(curveness);\r\n    // gridRadius = Number(gridRadius);\r\n    if (!constants_1.cPaths.includes(path))\r\n        path = 'smooth';\r\n    if (path === 'straight') {\r\n        cu = 0;\r\n        path = 'smooth';\r\n    }\r\n    var biggerSide = headSize > tailSize ? headSize : tailSize;\r\n    var _calc = strokeWidth + (strokeWidth * biggerSide) / 2;\r\n    var excRight = _calc;\r\n    var excLeft = _calc;\r\n    var excUp = _calc;\r\n    var excDown = _calc;\r\n    excLeft += Number(_extendSVGcanvas);\r\n    excRight += Number(_extendSVGcanvas);\r\n    excUp += Number(_extendSVGcanvas);\r\n    excDown += Number(_extendSVGcanvas);\r\n    ////////////////////////////////////\r\n    // arrow point to point calculations\r\n    var x1 = 0, x2 = absDx, y1 = 0, y2 = absDy;\r\n    if (dx < 0)\r\n        _a = [x2, x1], x1 = _a[0], x2 = _a[1];\r\n    if (dy < 0)\r\n        _b = [y2, y1], y1 = _b[0], y2 = _b[1];\r\n    ////////////////////////////////////\r\n    // arrow curviness and arrowhead placement calculations\r\n    if (cu === 0) {\r\n        // in case of straight path\r\n        var headAngel = Math.atan(absDy / absDx);\r\n        if (showHead) {\r\n            x2 -= fHeadSize * (1 - headOffset) * xSign * Math.cos(headAngel);\r\n            y2 -= fHeadSize * (1 - headOffset) * ySign * Math.sin(headAngel);\r\n            headAngel *= ySign;\r\n            if (xSign < 0)\r\n                headAngel = (Math.PI - headAngel * xSign) * xSign;\r\n            xHeadOffset = Math.cos(headAngel) * _headOffset - (Math.sin(headAngel) * fHeadSize) / 2;\r\n            yHeadOffset = (Math.cos(headAngel) * fHeadSize) / 2 + Math.sin(headAngel) * _headOffset;\r\n            headOrient = (headAngel * 180) / Math.PI;\r\n        }\r\n        var tailAngel = Math.atan(absDy / absDx);\r\n        if (showTail) {\r\n            x1 += fTailSize * (1 - tailOffset) * xSign * Math.cos(tailAngel);\r\n            y1 += fTailSize * (1 - tailOffset) * ySign * Math.sin(tailAngel);\r\n            tailAngel *= -ySign;\r\n            if (xSign > 0)\r\n                tailAngel = (Math.PI - tailAngel * xSign) * xSign;\r\n            xTailOffset = Math.cos(tailAngel) * _tailOffset - (Math.sin(tailAngel) * fTailSize) / 2;\r\n            yTailOffset = (Math.cos(tailAngel) * fTailSize) / 2 + Math.sin(tailAngel) * _tailOffset;\r\n            tailOrient = (tailAngel * 180) / Math.PI;\r\n        }\r\n    }\r\n    else {\r\n        // in case of smooth path\r\n        if (endAnchorPosition === 'middle') {\r\n            // in case a middle anchor is chosen for endAnchor choose from which side to attach to the middle of the element\r\n            if (absDx > absDy) {\r\n                endAnchorPosition = xSign ? 'left' : 'right';\r\n            }\r\n            else {\r\n                endAnchorPosition = ySign ? 'top' : 'bottom';\r\n            }\r\n        }\r\n        if (showHead) {\r\n            if (['left', 'right'].includes(endAnchorPosition)) {\r\n                xHeadOffset += _headOffset * xSign;\r\n                x2 -= fHeadSize * (1 - headOffset) * xSign; //same!\r\n                yHeadOffset += (fHeadSize * xSign) / 2;\r\n                if (endAnchorPosition === 'left') {\r\n                    headOrient = 0;\r\n                    if (xSign < 0)\r\n                        headOrient += 180;\r\n                }\r\n                else {\r\n                    headOrient = 180;\r\n                    if (xSign > 0)\r\n                        headOrient += 180;\r\n                }\r\n            }\r\n            else if (['top', 'bottom'].includes(endAnchorPosition)) {\r\n                xHeadOffset += (fHeadSize * -ySign) / 2;\r\n                yHeadOffset += _headOffset * ySign;\r\n                y2 -= fHeadSize * ySign - yHeadOffset;\r\n                if (endAnchorPosition === 'top') {\r\n                    headOrient = 270;\r\n                    if (ySign > 0)\r\n                        headOrient += 180;\r\n                }\r\n                else {\r\n                    headOrient = 90;\r\n                    if (ySign < 0)\r\n                        headOrient += 180;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (showTail && cu !== 0) {\r\n        if (['left', 'right'].includes(startAnchorPosition)) {\r\n            xTailOffset += _tailOffset * -xSign;\r\n            x1 += fTailSize * xSign + xTailOffset;\r\n            yTailOffset += -(fTailSize * xSign) / 2;\r\n            if (startAnchorPosition === 'left') {\r\n                tailOrient = 180;\r\n                if (xSign < 0)\r\n                    tailOrient += 180;\r\n            }\r\n            else {\r\n                tailOrient = 0;\r\n                if (xSign > 0)\r\n                    tailOrient += 180;\r\n            }\r\n        }\r\n        else if (['top', 'bottom'].includes(startAnchorPosition)) {\r\n            yTailOffset += _tailOffset * -ySign;\r\n            y1 += fTailSize * ySign + yTailOffset;\r\n            xTailOffset += (fTailSize * ySign) / 2;\r\n            if (startAnchorPosition === 'top') {\r\n                tailOrient = 90;\r\n                if (ySign > 0)\r\n                    tailOrient += 180;\r\n            }\r\n            else {\r\n                tailOrient = 270;\r\n                if (ySign < 0)\r\n                    tailOrient += 180;\r\n            }\r\n        }\r\n    }\r\n    var arrowHeadOffset = { x: xHeadOffset, y: yHeadOffset };\r\n    var arrowTailOffset = { x: xTailOffset, y: yTailOffset };\r\n    var cpx1 = x1, cpy1 = y1, cpx2 = x2, cpy2 = y2;\r\n    var curvesPossibilities = {};\r\n    if (path === 'smooth')\r\n        curvesPossibilities = {\r\n            hh: function () {\r\n                //horizontal - from right to left or the opposite\r\n                cpx1 += absDx * cu * xSign;\r\n                cpx2 -= absDx * cu * xSign;\r\n            },\r\n            vv: function () {\r\n                //vertical - from top to bottom or opposite\r\n                cpy1 += absDy * cu * ySign;\r\n                cpy2 -= absDy * cu * ySign;\r\n            },\r\n            hv: function () {\r\n                // start horizontally then vertically\r\n                // from v side to h side\r\n                cpx1 += absDx * cu * xSign;\r\n                cpy2 -= absDy * cu * ySign;\r\n            },\r\n            vh: function () {\r\n                // start vertically then horizontally\r\n                // from h side to v side\r\n                cpy1 += absDy * cu * ySign;\r\n                cpx2 -= absDx * cu * xSign;\r\n            },\r\n        };\r\n    else if (path === 'grid') {\r\n        curvesPossibilities = {\r\n            hh: function () {\r\n                cpx1 += (absDx * gridBreak.relative + gridBreak.abs) * xSign;\r\n                cpx2 -= (absDx * (1 - gridBreak.relative) - gridBreak.abs) * xSign;\r\n                if (showHead) {\r\n                    cpx1 -= ((fHeadSize * (1 - headOffset)) / 2) * xSign;\r\n                    cpx2 += ((fHeadSize * (1 - headOffset)) / 2) * xSign;\r\n                }\r\n                if (showTail) {\r\n                    cpx1 -= ((fTailSize * (1 - tailOffset)) / 2) * xSign;\r\n                    cpx2 += ((fTailSize * (1 - tailOffset)) / 2) * xSign;\r\n                }\r\n            },\r\n            vv: function () {\r\n                cpy1 += (absDy * gridBreak.relative + gridBreak.abs) * ySign;\r\n                cpy2 -= (absDy * (1 - gridBreak.relative) - gridBreak.abs) * ySign;\r\n                if (showHead) {\r\n                    cpy1 -= ((fHeadSize * (1 - headOffset)) / 2) * ySign;\r\n                    cpy2 += ((fHeadSize * (1 - headOffset)) / 2) * ySign;\r\n                }\r\n                if (showTail) {\r\n                    cpy1 -= ((fTailSize * (1 - tailOffset)) / 2) * ySign;\r\n                    cpy2 += ((fTailSize * (1 - tailOffset)) / 2) * ySign;\r\n                }\r\n            },\r\n            hv: function () {\r\n                cpx1 = x2;\r\n            },\r\n            vh: function () {\r\n                cpy1 = y2;\r\n            },\r\n        };\r\n    }\r\n    // smart select best curve for the current anchors\r\n    var selectedCurviness = '';\r\n    if (['left', 'right'].includes(startAnchorPosition))\r\n        selectedCurviness += 'h';\r\n    else if (['bottom', 'top'].includes(startAnchorPosition))\r\n        selectedCurviness += 'v';\r\n    else if (startAnchorPosition === 'middle')\r\n        selectedCurviness += 'm';\r\n    if (['left', 'right'].includes(endAnchorPosition))\r\n        selectedCurviness += 'h';\r\n    else if (['bottom', 'top'].includes(endAnchorPosition))\r\n        selectedCurviness += 'v';\r\n    else if (endAnchorPosition === 'middle')\r\n        selectedCurviness += 'm';\r\n    if (absDx > absDy)\r\n        selectedCurviness = selectedCurviness.replace(/m/g, 'h');\r\n    else\r\n        selectedCurviness = selectedCurviness.replace(/m/g, 'v');\r\n    curvesPossibilities[selectedCurviness]();\r\n    cpx1 += _cpx1Offset;\r\n    cpy1 += _cpy1Offset;\r\n    cpx2 += _cpx2Offset;\r\n    cpy2 += _cpy2Offset;\r\n    ////////////////////////////////////\r\n    // canvas smart size adjustments\r\n    var _h = buzzier_1.buzzierMinSols(x1, cpx1, cpx2, x2), xSol1 = _h[0], xSol2 = _h[1];\r\n    var _j = buzzier_1.buzzierMinSols(y1, cpy1, cpy2, y2), ySol1 = _j[0], ySol2 = _j[1];\r\n    if (xSol1 < 0)\r\n        excLeft += -xSol1;\r\n    if (xSol2 > absDx)\r\n        excRight += xSol2 - absDx;\r\n    if (ySol1 < 0)\r\n        excUp += -ySol1;\r\n    if (ySol2 > absDy)\r\n        excDown += ySol2 - absDy;\r\n    if (path === 'grid') {\r\n        excLeft += _calc;\r\n        excRight += _calc;\r\n        excUp += _calc;\r\n        excDown += _calc;\r\n    }\r\n    x1 += excLeft;\r\n    x2 += excLeft;\r\n    y1 += excUp;\r\n    y2 += excUp;\r\n    cpx1 += excLeft;\r\n    cpx2 += excLeft;\r\n    cpy1 += excUp;\r\n    cpy2 += excUp;\r\n    var cw = absDx + excLeft + excRight, ch = absDy + excUp + excDown;\r\n    cx0 -= excLeft;\r\n    cy0 -= excUp;\r\n    //labels\r\n    var bzx = buzzier_1.bzFunction(x1, cpx1, cpx2, x2);\r\n    var bzy = buzzier_1.bzFunction(y1, cpy1, cpy2, y2);\r\n    var labelStartPos = { x: bzx(0.01), y: bzy(0.01) };\r\n    var labelMiddlePos = { x: bzx(0.5), y: bzy(0.5) };\r\n    var labelEndPos = { x: bzx(0.99), y: bzy(0.99) };\r\n    var arrowPath;\r\n    if (path === 'grid') {\r\n        // todo: support gridRadius\r\n        //  arrowPath = `M ${x1} ${y1} L  ${cpx1 - 10} ${cpy1} a10,10 0 0 1 10,10\r\n        // L ${cpx2} ${cpy2 - 10} a10,10 0 0 0 10,10 L  ${x2} ${y2}`;\r\n        arrowPath = \"M \" + x1 + \" \" + y1 + \" L  \" + cpx1 + \" \" + cpy1 + \" L \" + cpx2 + \" \" + cpy2 + \" \" + x2 + \" \" + y2;\r\n    }\r\n    else if (path === 'smooth')\r\n        arrowPath = \"M \" + x1 + \" \" + y1 + \" C \" + cpx1 + \" \" + cpy1 + \", \" + cpx2 + \" \" + cpy2 + \", \" + x2 + \" \" + y2;\r\n    return {\r\n        cx0: cx0,\r\n        cy0: cy0,\r\n        x1: x1,\r\n        x2: x2,\r\n        y1: y1,\r\n        y2: y2,\r\n        cw: cw,\r\n        ch: ch,\r\n        cpx1: cpx1,\r\n        cpy1: cpy1,\r\n        cpx2: cpx2,\r\n        cpy2: cpy2,\r\n        dx: dx,\r\n        dy: dy,\r\n        absDx: absDx,\r\n        absDy: absDy,\r\n        headOrient: headOrient,\r\n        tailOrient: tailOrient,\r\n        labelStartPos: labelStartPos,\r\n        labelMiddlePos: labelMiddlePos,\r\n        labelEndPos: labelEndPos,\r\n        excLeft: excLeft,\r\n        excRight: excRight,\r\n        excUp: excUp,\r\n        excDown: excDown,\r\n        headOffset: _headOffset,\r\n        arrowHeadOffset: arrowHeadOffset,\r\n        arrowTailOffset: arrowTailOffset,\r\n        startPoints: startPoints,\r\n        endPoints: endPoints,\r\n        mainDivPos: mainDivPos,\r\n        xSign: xSign,\r\n        ySign: ySign,\r\n        lineLength: (_d = (_c = lineRef.current) === null || _c === void 0 ? void 0 : _c.getTotalLength()) !== null && _d !== void 0 ? _d : 0,\r\n        fHeadSize: fHeadSize,\r\n        fTailSize: fTailSize,\r\n        arrowPath: arrowPath,\r\n    };\r\n};\r\nexports.getPosition = getPosition;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xarrow/utils/index.ts\":\n/*!***********************************!*\\\n  !*** ./src/Xarrow/utils/index.ts ***!\n  \\***********************************/\n/***/ (function(__unused_webpack_module, exports) {\n\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.getSvgPos = exports.getElemPos = exports.getShortestLine = exports.xStr2absRelative = exports.factorDpathStr = exports.getElementByPropGiven = void 0;\r\nvar getElementByPropGiven = function (ref) {\r\n    var myRef;\r\n    if (typeof ref === 'string') {\r\n        // myRef = document.getElementById(ref);\r\n        myRef = document.getElementById(ref);\r\n    }\r\n    else\r\n        myRef = ref === null || ref === void 0 ? void 0 : ref.current;\r\n    return myRef;\r\n};\r\nexports.getElementByPropGiven = getElementByPropGiven;\r\n// receives string representing a d path and factoring only the numbers\r\nvar factorDpathStr = function (d, factor) {\r\n    var l = d.split(/(\\d+(?:\\.\\d+)?)/);\r\n    l = l.map(function (s) {\r\n        if (Number(s))\r\n            return (Number(s) * factor).toString();\r\n        else\r\n            return s;\r\n    });\r\n    return l.join('');\r\n};\r\nexports.factorDpathStr = factorDpathStr;\r\n// return relative,abs\r\nvar xStr2absRelative = function (str) {\r\n    if (typeof str !== 'string')\r\n        return { abs: 0, relative: 0.5 };\r\n    var sp = str.split('%');\r\n    var absLen = 0, percentLen = 0;\r\n    if (sp.length == 1) {\r\n        var p = parseFloat(sp[0]);\r\n        if (!isNaN(p)) {\r\n            absLen = p;\r\n            return { abs: absLen, relative: 0 };\r\n        }\r\n    }\r\n    else if (sp.length == 2) {\r\n        var _a = [parseFloat(sp[0]), parseFloat(sp[1])], p1 = _a[0], p2 = _a[1];\r\n        if (!isNaN(p1))\r\n            percentLen = p1 / 100;\r\n        if (!isNaN(p2))\r\n            absLen = p2;\r\n        if (!isNaN(p1) || !isNaN(p2))\r\n            return { abs: absLen, relative: percentLen };\r\n    }\r\n};\r\nexports.xStr2absRelative = xStr2absRelative;\r\nvar dist = function (p1, p2) {\r\n    //length of line\r\n    return Math.sqrt(Math.pow((p1.x - p2.x), 2) + Math.pow((p1.y - p2.y), 2));\r\n};\r\nvar getShortestLine = function (sPoints, ePoints) {\r\n    // closes tPair Of Points which feet to the specified anchors\r\n    var minDist = Infinity, d = Infinity;\r\n    var closestPair;\r\n    sPoints.forEach(function (sp) {\r\n        ePoints.forEach(function (ep) {\r\n            d = dist(sp, ep);\r\n            if (d < minDist) {\r\n                minDist = d;\r\n                closestPair = { chosenStart: sp, chosenEnd: ep };\r\n            }\r\n        });\r\n    });\r\n    return closestPair;\r\n};\r\nexports.getShortestLine = getShortestLine;\r\nvar getElemPos = function (elem) {\r\n    if (!elem)\r\n        return { x: 0, y: 0, right: 0, bottom: 0 };\r\n    var pos = elem.getBoundingClientRect();\r\n    return {\r\n        x: pos.left,\r\n        y: pos.top,\r\n        right: pos.right,\r\n        bottom: pos.bottom,\r\n    };\r\n};\r\nexports.getElemPos = getElemPos;\r\nvar getSvgPos = function (svgRef) {\r\n    if (!svgRef.current)\r\n        return { x: 0, y: 0 };\r\n    var _a = svgRef.current.getBoundingClientRect(), xarrowElemX = _a.left, xarrowElemY = _a.top;\r\n    var xarrowStyle = getComputedStyle(svgRef.current);\r\n    var xarrowStyleLeft = Number(xarrowStyle.left.slice(0, -2));\r\n    var xarrowStyleTop = Number(xarrowStyle.top.slice(0, -2));\r\n    return {\r\n        x: xarrowElemX - xarrowStyleLeft,\r\n        y: xarrowElemY - xarrowStyleTop,\r\n    };\r\n};\r\nexports.getSvgPos = getSvgPos;\r\n\n\n/***/ }),\n\n/***/ \"./src/Xwrapper.tsx\":\n/*!**************************!*\\\n  !*** ./src/Xwrapper.tsx ***!\n  \\**************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.XarrowContext = exports.XelemContext = void 0;\r\nvar react_1 = __importStar(__webpack_require__(/*! react */ \"react\"));\r\nexports.XelemContext = react_1.default.createContext(null);\r\nexports.XarrowContext = react_1.default.createContext(null);\r\nvar updateRef = {};\r\nvar updateRefCount = 0;\r\nvar log = console.log;\r\nvar XarrowProvider = function (_a) {\r\n    var children = _a.children, instanceCount = _a.instanceCount;\r\n    var _b = react_1.useState({}), setRender = _b[1];\r\n    var updateXarrow = function () { return setRender({}); };\r\n    react_1.useEffect(function () {\r\n        instanceCount.current = updateRefCount; // so this instance would know what is id\r\n        updateRef[instanceCount.current] = updateXarrow;\r\n    }, []);\r\n    // log('XarrowProvider', updateRefCount);\r\n    return react_1.default.createElement(exports.XarrowContext.Provider, { value: updateXarrow }, children);\r\n};\r\nvar XelemProvider = function (_a) {\r\n    var children = _a.children, instanceCount = _a.instanceCount;\r\n    return react_1.default.createElement(exports.XelemContext.Provider, { value: updateRef[instanceCount.current] }, children);\r\n};\r\nvar Xwrapper = function (_a) {\r\n    var children = _a.children;\r\n    var instanceCount = react_1.useRef(updateRefCount);\r\n    var _b = react_1.useState({}), setRender = _b[1];\r\n    react_1.useEffect(function () {\r\n        updateRefCount++;\r\n        setRender({});\r\n        return function () {\r\n            delete updateRef[instanceCount.current];\r\n        };\r\n    }, []);\r\n    return (react_1.default.createElement(XelemProvider, { instanceCount: instanceCount },\r\n        react_1.default.createElement(XarrowProvider, { instanceCount: instanceCount }, children)));\r\n};\r\nexports.default = Xwrapper;\r\n\n\n/***/ }),\n\n/***/ \"./src/constants.tsx\":\n/*!***************************!*\\\n  !*** ./src/constants.tsx ***!\n  \\***************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.cArrowShapes = exports.arrowShapes = exports.cSvgElems = exports.cPaths = exports.cAnchorEdge = void 0;\r\n// constants used for typescript and proptypes definitions\r\nvar react_1 = __importDefault(__webpack_require__(/*! react */ \"react\"));\r\nexports.cAnchorEdge = ['middle', 'left', 'right', 'top', 'bottom', 'auto'];\r\nexports.cPaths = ['smooth', 'grid', 'straight'];\r\nexports.cSvgElems = ['circle', 'ellipse', 'line', 'path', 'polygon', 'polyline', 'rect'];\r\n//default arrows svgs\r\nexports.arrowShapes = {\r\n    arrow1: { svgElem: react_1.default.createElement(\"path\", { d: \"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z\" }), offsetForward: 0.25 },\r\n    heart: {\r\n        svgElem: (react_1.default.createElement(\"path\", { d: \"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z\" })),\r\n        offsetForward: 0.1,\r\n    },\r\n    circle: {\r\n        svgElem: react_1.default.createElement(\"circle\", { r: 0.5, cx: 0.5, cy: 0.5 }),\r\n        offsetForward: 0,\r\n    },\r\n};\r\nexports.cArrowShapes = Object.keys(exports.arrowShapes);\r\n\n\n/***/ }),\n\n/***/ \"./src/index.tsx\":\n/*!***********************!*\\\n  !*** ./src/index.tsx ***!\n  \\***********************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.useXarrow = exports.Xwrapper = exports.default = void 0;\r\nvar Xarrow_1 = __webpack_require__(/*! ./Xarrow/Xarrow */ \"./src/Xarrow/Xarrow.tsx\");\r\nObject.defineProperty(exports, \"default\", ({ enumerable: true, get: function () { return __importDefault(Xarrow_1).default; } }));\r\n__exportStar(__webpack_require__(/*! ./types */ \"./src/types.ts\"), exports);\r\n__exportStar(__webpack_require__(/*! ./constants */ \"./src/constants.tsx\"), exports);\r\nvar Xwrapper_1 = __webpack_require__(/*! ./Xwrapper */ \"./src/Xwrapper.tsx\");\r\nObject.defineProperty(exports, \"Xwrapper\", ({ enumerable: true, get: function () { return __importDefault(Xwrapper_1).default; } }));\r\nvar useXarrow_1 = __webpack_require__(/*! ./useXarrow */ \"./src/useXarrow.tsx\");\r\nObject.defineProperty(exports, \"useXarrow\", ({ enumerable: true, get: function () { return __importDefault(useXarrow_1).default; } }));\r\n\n\n/***/ }),\n\n/***/ \"./src/types.ts\":\n/*!**********************!*\\\n  !*** ./src/types.ts ***!\n  \\**********************/\n/***/ (function(__unused_webpack_module, exports) {\n\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\n\n\n/***/ }),\n\n/***/ \"./src/useXarrow.tsx\":\n/*!***************************!*\\\n  !*** ./src/useXarrow.tsx ***!\n  \\***************************/\n/***/ (function(__unused_webpack_module, exports, __webpack_require__) {\n\n\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar react_1 = __webpack_require__(/*! react */ \"react\");\r\nvar Xwrapper_1 = __webpack_require__(/*! ./Xwrapper */ \"./src/Xwrapper.tsx\");\r\nvar useXarrow = function () {\r\n    var _a = react_1.useState({}), setRender = _a[1];\r\n    var reRender = function () { return setRender({}); };\r\n    var updateXarrow = react_1.useContext(Xwrapper_1.XelemContext);\r\n    if (!updateXarrow)\r\n        updateXarrow = function () { };\r\n    // throw new Error(\r\n    //   \"'Xwrapper' is required around element using 'useXarrow' hook! wrap your xarrows and connected elements with Xwrapper! \"\r\n    // );\r\n    react_1.useLayoutEffect(function () {\r\n        updateXarrow();\r\n    });\r\n    return reRender;\r\n};\r\nexports.default = useXarrow;\r\n\n\n/***/ }),\n\n/***/ \"lodash\":\n/*!*************************!*\\\n  !*** external \"lodash\" ***!\n  \\*************************/\n/***/ (function(module) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;\n\n/***/ }),\n\n/***/ \"prop-types\":\n/*!*****************************!*\\\n  !*** external \"prop-types\" ***!\n  \\*****************************/\n/***/ (function(module) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_prop_types__;\n\n/***/ }),\n\n/***/ \"react\":\n/*!************************!*\\\n  !*** external \"react\" ***!\n  \\************************/\n/***/ (function(module) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_react__;\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = __webpack_module_cache__;\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/node module decorator */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.nmd = function(module) {\n/******/ \t\t\tmodule.paths = [];\n/******/ \t\t\tif (!module.children) module.children = [];\n/******/ \t\t\treturn module;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// module cache are used so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \tvar __webpack_exports__ = __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n/******/ \t\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"mappings":"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"},"metadata":{},"sourceType":"script"}